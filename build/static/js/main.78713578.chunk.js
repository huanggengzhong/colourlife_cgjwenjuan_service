(window.webpackJsonpmanerger=window.webpackJsonpmanerger||[]).push([[0],{190:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},227:function(e,t,a){e.exports=a(443)},233:function(e,t,a){},237:function(e,t,a){},299:function(e,t,a){},321:function(e,t,a){},421:function(e,t,a){},422:function(e,t,a){},423:function(e,t,a){},424:function(e,t,a){},427:function(e,t,a){},430:function(e,t,a){},431:function(e,t,a){},433:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},442:function(e,t,a){},443:function(e,t,a){"use strict";a.r(t);var n,s,i=a(0),l=a.n(i),c=a(9),r=a.n(c),o=a(163),u=a(74),m=(a(232),a(233),a(61),a(37)),d=(a(62),a(19)),h=a(13),p=a(14),f=a(16),g=a(15),v=a(17),y=(a(237),a(31)),E=a.n(y),_=a(45),k=a.n(_),w=document.domain;w&&-1===w.indexOf("test")&&"localhost"!==w?"yun-beta.colourlife.com"===w||-1!==w.indexOf("beta")?(n="https://yun-beta.colourlife.com",s="http://open.beta.colourlife.com"):(n="https://yun.colourlife.com",s="https://open.colourlife.com"):(n="https://yun-test.colourlife.com",s="https://open.test.colourlife.com"),E.a.interceptors.response.use((function(e){return 400===e.data.code&&(window.location.href=n+"/#/login",localStorage.clear(),d.a.error(e.data.message)),0!==e.data.code&&e.data.message&&d.a.error(e.data.message),e}),(function(e){return Promise.reject(e)}));var b,S,N={_baseUrl:n,openUrl:s,getnavHeader:function(e){return E.a.get("".concat(n,"/common_module/header/header.html"),{params:e}).then((function(e){return e.data}))},getnavsider:function(e){return E.a.get("".concat(n,"/common_module/slider/slider.html"),{params:e}).then((function(e){return e.data}))},getQrcodeInfo:function(e){return E.a.get("".concat(n,"/api/login/qrcode"),{params:e}).then((function(e){return e.data}))},getTokenInfo:function(e){return E.a.get("".concat(n,"/api/login/qrcode/check"),{params:e}).then((function(e){return e.data}))},getUserInfo:function(e){return E.a.get("".concat(n,"/api/user/info"),{params:e}).then((function(e){return e.data}))},getUserMenuList:function(e){return E.a.get("".concat(n,"/api/user/menu/list"),{params:e}).then((function(e){return e.data}))},createMenu:function(e){return E.a.post("".concat(n,"/api/menu/create"),k.a.stringify(e)).then((function(e){return e.data}))},updateMenu:function(e){return E.a.post("".concat(n,"/api/menu/update"),k.a.stringify(e)).then((function(e){return e.data}))},deleteMenu:function(e){return E.a.post("".concat(n,"/api/menu/delete"),k.a.stringify(e)).then((function(e){return e.data}))},getMenuList:function(e){return E.a.get("".concat(n,"/api/menu/list"),{params:e}).then((function(e){return e.data}))},getRoleList:function(e){return E.a.get("".concat(n,"/api/role/list"),{params:e}).then((function(e){return e.data}))},createRole:function(e){return E.a.post("".concat(n,"/api/role/create"),k.a.stringify(e)).then((function(e){return e.data}))},updateRole:function(e){return E.a.post("".concat(n,"/api/role/update"),k.a.stringify(e)).then((function(e){return e.data}))},deleteRole:function(e){return E.a.post("".concat(n,"/api/role/delete"),k.a.stringify(e)).then((function(e){return e.data}))},getPrivilegeList:function(e){return E.a.get("".concat(n,"/api/role/privilege/list"),{params:e}).then((function(e){return e.data}))},getUserRoleList:function(e){return E.a.get("".concat(n,"/api/role/user/list"),{params:e}).then((function(e){return e.data}))},createUserRole:function(e){return E.a.post("".concat(n,"/api/role/user/create"),k.a.stringify(e)).then((function(e){return e.data}))},deleteUserRole:function(e){return E.a.post("".concat(n,"/api/role/user/delete"),k.a.stringify(e)).then((function(e){return e.data}))},updateUserRole:function(e){return E.a.post("".concat(n,"/api/role/privilege/update"),k.a.stringify(e)).then((function(e){return e.data}))},upload:function(e){return E.a.post("".concat(n,"/api/upload/image"),k.a.stringify(e)).then((function(e){return e.data}))},logout:function(e){return E.a.post("".concat(n,"/api/user/logout"),k.a.stringify(e)).then((function(e){return e.data}))}},j=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={headersHTML:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getnavHeader().then((function(t){t&&e.setState({headersHTML:t},(function(){var e=document.createElement("script");e.src="".concat(N._baseUrl,"/common_module/header/header.js");var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","".concat(N._baseUrl,"/common_module/header/header.css")),document.head.appendChild(e),document.getElementsByTagName("head")[0].appendChild(t)}))}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("div",{className:"_header",dangerouslySetInnerHTML:{__html:this.state.headersHTML}}))}}]),t}(i.Component),x=(a(299),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={headersHTML:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getnavsider().then((function(t){t&&e.setState({headersHTML:t},(function(){var e=document.createElement("script");e.src="".concat(N._baseUrl,"/common_module/slider/slider.js");var t=document.createElement("link");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","".concat(N._baseUrl,"/common_module/slider/slider.css")),document.head.appendChild(e),document.getElementsByTagName("head")[0].appendChild(t)}))}))}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"calc( 100vh - 48px )"},dangerouslySetInnerHTML:{__html:this.state.headersHTML}})}}]),t}(i.Component)),C=(a(190),function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"welcome"},"\u6b22\u8fce\u4f7f\u7528\u7ba1\u7406\u63a7\u5236\u53f0")}}]),t}(i.Component)),I=(a(90),a(29)),O=a(58),T=(a(191),a(100)),D=(a(64),a(32)),z=(a(44),a(8)),q=(a(71),a(39)),L=(a(116),a(72)),M=(a(91),a(42)),V=(a(104),a(30)),P=(a(92),a(43)),Q=(a(70),a(26)),R=(a(79),a(22)),W=(a(108),a(59)),A=a(217),U=a.n(A)()(),H=document.domain;b="wenjuan-cgj.colourlife.com"===H||"yun.colourlife.com"===H?"https://service-czy.colourlife.com":"https://service-czytest.colourlife.com",S="https://yjfk-backend-czy.colourlife.com"==H?"https://yjfk-backend-czy.colourlife.com":"https://yjfk-backend-czytest.colourlife.com";var F=E.a.create({}),K={targetUrl:b,wenjuan_search:function(e){return F.get("".concat(b,"/backend/questionlist/search"),{params:e}).then((function(e){return e.data}))},wenjuan_list:function(e){return F.get("".concat(b,"/backend/questionlist/data"),{params:e}).then((function(e){return e.data}))},wenjuan_out:function(e){return F.get("".concat(b,"/backend/questionlist/export"),{params:e}).then((function(e){return e.data}))},wenjuan_detail:function(e){return F.get("".concat(b,"/backend/questionlist/detail"),{params:e}).then((function(e){return e.data}))},wenjuan_analyze:function(e){return F.get("".concat(b,"/backend/question/analysis"),{params:e}).then((function(e){return e.data}))},wenjuan_this_detail:function(e){return F.get("".concat(b,"/backend/fill/detail"),{params:e}).then((function(e){return e.data}))},answer_data:function(e){return F.get("".concat(b,"/backend/answerlist/data"),{params:e}).then((function(e){return e.data}))},question_add:function(e){return F.post("".concat(b,"/backend/question/add"),k.a.stringify(e)).then((function(e){return e.data}))},question_list_add:function(e){return F.post("".concat(b,"/backend/questionlist/add"),k.a.stringify(e)).then((function(e){return e.data}))},getQuestionList:function(e){return F.get("".concat(b,"/backend/question/detail"),{params:e}).then((function(e){return e.data}))},setQuestionStatus:function(e){return F.post("".concat(b,"/backend/question/state"),k.a.stringify(e)).then((function(e){return e.data}))},getFillList:function(e){return F.get("".concat(b,"/backend/fill/list"),{params:e}).then((function(e){return e.data}))},getTime:function(e){var t=e,a=t.getFullYear(),n=t.getMonth()+1;n=n<10?"0"+n:n;var s=t.getDate();s=s<10?"0"+s:s;var i=t.getHours();i=i<10?"0"+i:i;var l=t.getMinutes(),c=t.getSeconds();return a+"-"+n+"-"+s+" "+i+":"+(l=l<10?"0"+l:l)+":"+(c=c<10?"0"+c:c)},get:function(e,t){return F.get("".concat(S,"/").concat(t),{params:e}).then((function(e){return e.data}))},getToken:function(){return window.sessionStorage.getItem("access_token")}},G=(a(321),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).selectTime=function(e,t){a.setState({startTime:t[0],endTime:t[1]})},a.selectWay=function(e){a.setState({way:e.target.value})},a.selectIsStaff=function(e){a.setState({isStaff:e.target.value})},a.selectVersion=function(e){a.setState({version:e})},a.selectSex=function(e){a.setState({sex:e.target.value})},a.selectPhone=function(e){a.setState({phone:e})},a.selectNickname=function(e){a.setState({nickname:e.target.value})},a.yijiancontent=function(e){a.setState({yijiancontent:e.target.value})},a.search=function(){a.fetchData()},a.clear=function(){a.setState({startTime:null,endTime:null,way:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,yijiancontent:""},(function(){a.fetchData()}))},a.searchCommunity=function(e){var t={access_token:a.getQueryString("access_token"),page:1,page_size:10,keyword:""==e?"\u4e03\u661f":e};K.get(t,"backend/communitySearch").then((function(e){0==e.code?a.setState({communityList:e.content.data}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))},a.selectCommunity=function(e){a.setState({community:e.name,community_uuid:e.uuid},(function(){}))},a.renderEmployee=function(e){switch(e){case 1:return"\u5458\u5de5";case 2:return"\u975e\u5458\u5de5"}},a.renderGender=function(e){switch(e){case 1:return"\u7537";case 2:return"\u5973";case 0:return"\u672a\u77e5"}},a.renderWay=function(e){switch(e){case 1:return"IOS";case 2:return"\u5b89\u5353"}},a.tofixed=function(e){return Number(e).toFixed(1)+"%"},a.goIdeaDetail=function(e){console.log(e.id);var t={pathname:"/lookidea/detail/".concat(e.id,"?access_token=").concat(window.sessionStorage.getItem("access_token")),query:e.id};U.push(t)},a.Download=function(){var e;e="https://yjfk-backend-czy.colourlife.com"==document.domain?"https://yjfk-backend-czy.colourlife.com":"https://yjfk-backend-czytest.colourlife.com",console.log(a.state.version);var t=null,n=null;"\u8bf7\u9009\u62e9"!=a.state.version&&(t=a.state.version),"\u8bf7\u9009\u62e9\u5c0f\u533a"!=a.state.community&&(n=a.state.community),window.location.href=e+"/backend/feedback/excel?access_token="+window.sessionStorage.getItem("access_token")+"&is_reply=null&time_start="+a.state.startTime+"&time_end="+a.state.endTime+"&from_type="+a.state.way+"&version="+t+"&gender="+a.state.sex+"&community_id="+n+"&mobile="+a.state.phone+"&nick_name="+a.state.nickname},a.state=Object(O.a)({yijiancontent:"",userName:null,modalVisible:!1,access_token:null,id:null,test:["test1","test2","test3"],currentPage:1,total:0,pageSize:10,data:null,flag:!1,visible:!1,userId:null,previewVisible:null,previewImage:null,startTime:null,endTime:null,way:null,isStaff:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,questionList:[],answerList:[{name:"\u975e\u5e38\u6ee1\u610f",id:1},{name:"\u6ee1\u610f",id:2},{name:"\u4e00\u822c",id:3},{name:"\u4e0d\u6ee1\u610f",id:4},{name:"\u975e\u5e38\u4e0d\u6ee1\u610f",id:5}],version1:null,create_at:null,totalhpDegree:null,totalmyDegree:null,versionList:[],communityList:[],community_uuid:null},"data",[]),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getVersionList(),this.fetchData()}},{key:"getVersionList",value:function(){var e=this,t={access_token:this.getQueryString("access_token")};K.get(t,"backend/versionList").then((function(t){0==t.code?(console.log(t),e.setState({versionList:t.content})):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,content:this.state.yijiancontent,page:1,page_size:this.state.pageSize};K.get(a,"backend/feedback/list").then((function(t){console.log(t),0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData1",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,page:this.state.currentPage,page_size:this.state.pageSize};K.get(a,"backend/feedback/list").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"formdata",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),Date.parse(t)/1e3}},{key:"formdata1",value:function(e){var t=new Date(e);return t.setHours(23),t.setMinutes(59),t.setSeconds(59),Date.parse(t)/1e3}},{key:"getQueryString",value:function(e){if(""==window.location.search){var t=document.location.toString().split("?");if(t.length>1){for(var a,n=t[1].split("&"),s=0;s<n.length;s++)if(null!=(a=n[s].split("="))&&a[0]==e)return a[1];return""}return""}var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=window.location.search.substr(1).match(i);return null!=l?unescape(l[2]):null}},{key:"urljson",value:function(e){var t=/([^&=]+)=([\w\W]*?)(&|$|#)/g,a=/^[^\?]+\?([\w\W]+)$/.exec(e),n={};if(a&&a[1])for(var s,i=a[1];null!=(s=t.exec(i));)n[s[1]]=s[2];return n}},{key:"toDetail",value:function(e){var t=this;this.setModalVisible(!0);var a={access_token:this.getQueryString("access_token"),id:e.id};K.get(a,"backend/detail").then((function(e){0==e.code?t.setState({questionList:e.content.list,version1:e.content.version,create_at:e.content.create_at}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"handleTableChange",value:function(e){var t=this,a=e.current||1;this.setState({currentPage:a},(function(){t.fetchData1()}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this,t=W.a.RangePicker,a=R.a.Group,n=Q.a.Option,s=this.state.data,i=[{title:"\u72b6\u6001",align:"center",dataIndex:"is_replay",key:"is_replay",width:100,render:function(e){return 0===e?l.a.createElement(P.a,{color:"#f50",style:{padding:0}},"\u672a\u56de\u590d"):1===e?l.a.createElement(P.a,{color:"#87d068",style:{padding:0}},"\u5df2\u56de\u590d"):void 0}},{title:"\u7528\u6237ID",align:"center",dataIndex:"user_id",key:"user_id",width:160,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6635\u79f0",align:"center",dataIndex:"nick_name",key:"nick_name",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u624b\u673a\u53f7",align:"center",dataIndex:"mobile",key:"mobile",width:140,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5c0f\u533a",align:"center",dataIndex:"community_name",key:"community_name",width:150,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6e20\u9053",align:"center",dataIndex:"from_type",key:"from_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u7248\u672c",align:"center",dataIndex:"version",key:"version",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5206\u7c7b",align:"center",dataIndex:"feedback_type",key:"feedback_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u610f\u89c1\u8be6\u60c5",align:"center",dataIndex:"content",key:"content",width:450,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u64cd\u4f5c",align:"center",key:"operation",width:150,render:function(t,a){return l.a.createElement("a",{onClick:function(){e.goIdeaDetail(t)}},"\u67e5\u770b")}}];return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:24})),l.a.createElement("div",{className:"show"},l.a.createElement("div",{className:"search_box",style:{position:"relative"}},l.a.createElement("div",{className:"search_content"},l.a.createElement("div",{className:"evaluation_time search_item"},l.a.createElement("span",{className:"txt"},"\u8bc4\u4ef7\u65f6\u95f4\uff1a"),l.a.createElement(t,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],size:"small",onChange:this.selectTime})),l.a.createElement("div",{className:"way search_item"},l.a.createElement("span",{className:"txt"},"\u6e20\u9053\uff1a"),l.a.createElement(a,{onChange:this.selectWay,value:this.state.way},l.a.createElement(R.a,{value:"1"},"ios"),l.a.createElement(R.a,{value:"2"},"android"))),l.a.createElement("div",{className:"version search_item"},l.a.createElement("span",{className:"txt"},"\u7248\u672c\uff1a"),l.a.createElement(Q.a,{size:"small",defaultValue:"\u8bf7\u9009\u62e9",style:{width:100},onChange:this.selectVersion,value:this.state.version},this.state.versionList.map((function(e,t){return l.a.createElement(n,{value:e.version,key:t},e.version)})))),l.a.createElement("div",{className:"sex search_item"},l.a.createElement("span",{className:"txt"},"\u6027\u522b\uff1a"),l.a.createElement(a,{onChange:this.selectSex,value:this.state.sex},l.a.createElement(R.a,{value:"1"},"\u7537"),l.a.createElement(R.a,{value:"2"},"\u5973"))),l.a.createElement("div",{className:"community search_item"},l.a.createElement("span",{className:"txt"},"\u5c0f\u533a\uff1a"),l.a.createElement(Q.a,{showSearch:!0,size:"small",value:this.state.community,placeholder:"\u8bf7\u9009\u62e9\u5c0f\u533a",style:{width:100},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.searchCommunity,onChange:this.selectCommunity,notFoundContent:null},this.state.communityList.map((function(e,t){return l.a.createElement(n,{value:e,index:t},e.name)})))),l.a.createElement("div",{className:"phone search_item"},l.a.createElement("span",{className:"txt"},"\u624b\u673a\u53f7\uff1a"),l.a.createElement(L.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",className:"phone_input",size:"small",maxLength:11,onChange:this.selectPhone,value:this.state.phone})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u6635\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",className:"phone_input",size:"small",onChange:this.selectNickname,value:this.state.nickname})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u610f\u89c1\u5185\u5bb9\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u610f\u89c1\u5185\u5bb9",className:"phone_input",size:"small",onChange:this.yijiancontent,value:this.state.yijiancontent}))),l.a.createElement("div",{className:"search_btn"},l.a.createElement(z.a,{type:"primary",style:{marginRight:15},onClick:this.search},"\u7b5b\u9009"),l.a.createElement(z.a,{onClick:this.clear},"\u91cd\u7f6e"))),l.a.createElement("div",{className:"table_box"},l.a.createElement(D.a,{columns:i,dataSource:s,scroll:{x:1400},loading:{tip:"Loading...",spinning:this.state.flag},pagination:{current:this.state.currentPage,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(){return"\u5171".concat(e.state.total,"\u6761\u6570\u636e\uff0c\u5f53\u524d\u7b2c").concat(e.state.currentPage,"\u9875")}},onChange:this.handleTableChange.bind(this)})),l.a.createElement("div",{className:"modal"},l.a.createElement(m.a,{title:"\u6ee1\u610f\u5ea6\u8c03\u67e5",width:375,centered:!0,visible:this.state.modalVisible,onOk:function(){return e.setModalVisible(!1)},onCancel:function(){return e.setModalVisible(!1)}},l.a.createElement("div",{className:"item_box"},this.state.questionList.map((function(t,n){return l.a.createElement("div",{className:"item",key:n},l.a.createElement("p",{className:"question"},n+1,"\u3001",t.question),l.a.createElement("div",{className:"answer_box"},l.a.createElement(a,{onChange:e.selectIsStaff,value:t.answer},e.state.answerList.map((function(e,t){return l.a.createElement(R.a,{value:5-t,disabled:!0,key:t},e.name)})))))}))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",{className:"version"},"v ",this.state.version1),l.a.createElement("p",{className:"time"},"\u63d0\u4ea4\u65f6\u95f4\uff1a",this.state.create_at))))))}}]),t}(i.Component)),$=(a(109),a(34)),J=(a(125),a(7)),B=(a(421),l.a.createElement($.a,null,l.a.createElement($.a.Item,{key:"1"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u5e8f\u53f7\u4e0b\u8f7d"),l.a.createElement($.a.Item,{key:"2"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u6587\u672c\u4e0b\u8f7d")),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).selectTime=function(e,t){a.setState({startTime:t[0],endTime:t[1]})},a.selectWay=function(e){a.setState({way:e.target.value})},a.selectIsStaff=function(e){a.setState({isStaff:e.target.value})},a.selectVersion=function(e){a.setState({version:e})},a.selectSex=function(e){a.setState({sex:e.target.value})},a.selectPhone=function(e){a.setState({phone:e})},a.selectNickname=function(e){a.setState({nickname:e.target.value})},a.yijiancontent=function(e){a.setState({yijiancontent:e.target.value})},a.search=function(){a.fetchData()},a.clear=function(){a.setState({startTime:null,endTime:null,way:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,yijiancontent:""},(function(){a.fetchData()}))},a.searchCommunity=function(e){var t={access_token:a.getQueryString("access_token"),page:1,page_size:10,keyword:""==e?"\u4e03\u661f":e};K.get(t,"backend/communitySearch").then((function(e){0==e.code?a.setState({communityList:e.content.data}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))},a.selectCommunity=function(e){a.setState({community:e.name,community_uuid:e.uuid},(function(){}))},a.renderEmployee=function(e){switch(e){case 1:return"\u5458\u5de5";case 2:return"\u975e\u5458\u5de5"}},a.renderGender=function(e){switch(e){case 1:return"\u7537";case 2:return"\u5973";case 0:return"\u672a\u77e5"}},a.renderWay=function(e){switch(e){case 1:return"IOS";case 2:return"\u5b89\u5353"}},a.tofixed=function(e){return Number(e).toFixed(1)+"%"},a.goIdeaDetail=function(e){console.log(e.id);var t={pathname:"/lookidea/detail/".concat(e.id,"?access_token=").concat(window.sessionStorage.getItem("access_token")),query:e.id};U.push(t)},a.Download=function(){var e;e="https://yjfk-backend-czy.colourlife.com"==document.domain?"https://yjfk-backend-czy.colourlife.com":"https://yjfk-backend-czytest.colourlife.com";var t=null,n=null;"\u8bf7\u9009\u62e9"!=a.state.version&&(t=a.state.version),"\u8bf7\u9009\u62e9\u5c0f\u533a"!=a.state.community&&(n=a.state.community),window.location.href=e+"/backend/feedback/excel?access_token="+window.sessionStorage.getItem("access_token")+"&is_reply=1&time_start="+a.state.startTime+"&time_end="+a.state.endTime+"&from_type="+a.state.way+"&version="+t+"&gender="+a.state.sex+"&community_id="+n+"&mobile="+a.state.phone+"&nick_name="+a.state.nickname},a.state=Object(O.a)({yijiancontent:"",userName:null,modalVisible:!1,access_token:null,id:null,test:["test1","test2","test3"],currentPage:1,total:0,pageSize:10,data:null,flag:!1,visible:!1,userId:null,previewVisible:null,previewImage:null,startTime:null,endTime:null,way:null,isStaff:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,questionList:[],answerList:[{name:"\u975e\u5e38\u6ee1\u610f",id:1},{name:"\u6ee1\u610f",id:2},{name:"\u4e00\u822c",id:3},{name:"\u4e0d\u6ee1\u610f",id:4},{name:"\u975e\u5e38\u4e0d\u6ee1\u610f",id:5}],version1:null,create_at:null,totalhpDegree:null,totalmyDegree:null,versionList:[],communityList:[],community_uuid:null},"data",[]),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getVersionList(),this.fetchData()}},{key:"getVersionList",value:function(){var e=this,t={access_token:this.getQueryString("access_token")};K.get(t,"backend/versionList").then((function(t){0==t.code?e.setState({versionList:t.content}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,content:this.state.yijiancontent,page:1,page_size:this.state.pageSize};K.get(a,"backend/feedback/list/two").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData1",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,page:this.state.currentPage,page_size:this.state.pageSize};K.get(a,"backend/feedback/list/two").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"formdata",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),Date.parse(t)/1e3}},{key:"formdata1",value:function(e){var t=new Date(e);return t.setHours(23),t.setMinutes(59),t.setSeconds(59),Date.parse(t)/1e3}},{key:"getQueryString",value:function(e){if(""==window.location.search){var t=document.location.toString().split("?");if(t.length>1){for(var a,n=t[1].split("&"),s=0;s<n.length;s++)if(null!=(a=n[s].split("="))&&a[0]==e)return a[1];return""}return""}var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=window.location.search.substr(1).match(i);return null!=l?unescape(l[2]):null}},{key:"urljson",value:function(e){var t=/([^&=]+)=([\w\W]*?)(&|$|#)/g,a=/^[^\?]+\?([\w\W]+)$/.exec(e),n={};if(a&&a[1])for(var s,i=a[1];null!=(s=t.exec(i));)n[s[1]]=s[2];return n}},{key:"toDetail",value:function(e){var t=this;this.setModalVisible(!0);var a={access_token:this.getQueryString("access_token"),id:e.id};K.get(a,"backend/detail").then((function(e){0==e.code?t.setState({questionList:e.content.list,version1:e.content.version,create_at:e.content.create_at}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"handleTableChange",value:function(e){var t=this,a=e.current||1;this.setState({currentPage:a},(function(){t.fetchData1()}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this,t=W.a.RangePicker,a=R.a.Group,n=Q.a.Option,s=this.state.data,i=[{title:"\u72b6\u6001",align:"center",dataIndex:"is_replay",key:"is_replay",width:100,render:function(e){return 0===e?l.a.createElement(P.a,{color:"#f50",style:{padding:0}},"\u672a\u56de\u590d"):1===e?l.a.createElement(P.a,{color:"#87d068",style:{padding:0}},"\u5df2\u56de\u590d"):void 0}},{title:"\u7528\u6237ID",align:"center",dataIndex:"user_id",key:"user_id",width:160,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6635\u79f0",align:"center",dataIndex:"nick_name",key:"nick_name",width:160,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u624b\u673a\u53f7",align:"center",dataIndex:"mobile",key:"mobile",width:120,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5c0f\u533a",align:"center",dataIndex:"community_name",key:"community_name",width:150,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6e20\u9053",align:"center",dataIndex:"from_type",key:"from_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u7248\u672c",align:"center",dataIndex:"version",key:"version",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5206\u7c7b",align:"center",dataIndex:"feedback_type",key:"feedback_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u610f\u89c1\u8be6\u60c5",align:"center",dataIndex:"content",key:"content",width:450,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u64cd\u4f5c",align:"center",key:"operation",width:150,render:function(t,a){return l.a.createElement("a",{onClick:function(){e.goIdeaDetail(t)}},"\u67e5\u770b")}}];return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:24})),l.a.createElement("div",{className:"show"},l.a.createElement("div",{className:"search_box",style:{position:"relative"}},l.a.createElement("div",{className:"search_content"},l.a.createElement("div",{className:"evaluation_time search_item"},l.a.createElement("span",{className:"txt"},"\u8bc4\u4ef7\u65f6\u95f4\uff1a"),l.a.createElement(t,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],size:"small",onChange:this.selectTime})),l.a.createElement("div",{className:"way search_item"},l.a.createElement("span",{className:"txt"},"\u6e20\u9053\uff1a"),l.a.createElement(a,{onChange:this.selectWay,value:this.state.way},l.a.createElement(R.a,{value:"1"},"ios"),l.a.createElement(R.a,{value:"2"},"android"))),l.a.createElement("div",{className:"version search_item"},l.a.createElement("span",{className:"txt"},"\u7248\u672c\uff1a"),l.a.createElement(Q.a,{size:"small",defaultValue:"\u8bf7\u9009\u62e9",style:{width:100},onChange:this.selectVersion,value:this.state.version},this.state.versionList.map((function(e,t){return l.a.createElement(n,{value:e.version,key:t},e.version)})))),l.a.createElement("div",{className:"sex search_item"},l.a.createElement("span",{className:"txt"},"\u6027\u522b\uff1a"),l.a.createElement(a,{onChange:this.selectSex,value:this.state.sex},l.a.createElement(R.a,{value:"1"},"\u7537"),l.a.createElement(R.a,{value:"2"},"\u5973"))),l.a.createElement("div",{className:"community search_item"},l.a.createElement("span",{className:"txt"},"\u5c0f\u533a\uff1a"),l.a.createElement(Q.a,{showSearch:!0,size:"small",value:this.state.community,placeholder:"\u8bf7\u8f93\u5165\u5c0f\u533a",style:{width:100},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.searchCommunity,onChange:this.selectCommunity,notFoundContent:null},this.state.communityList.map((function(e,t){return l.a.createElement(n,{value:e,index:t},e.name)})))),l.a.createElement("div",{className:"phone search_item"},l.a.createElement("span",{className:"txt"},"\u624b\u673a\u53f7\uff1a"),l.a.createElement(L.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",className:"phone_input",size:"small",maxLength:11,onChange:this.selectPhone,value:this.state.phone})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u6635\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",className:"phone_input",size:"small",onChange:this.selectNickname,value:this.state.nickname})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u610f\u89c1\u5185\u5bb9\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u610f\u89c1\u5185\u5bb9",className:"phone_input",size:"small",onChange:this.yijiancontent,value:this.state.yijiancontent}))),l.a.createElement("div",{className:"search_btn"},l.a.createElement(z.a,{type:"primary",style:{marginRight:15},onClick:this.search},"\u7b5b\u9009"),l.a.createElement(z.a,{onClick:this.clear},"\u91cd\u7f6e"))),l.a.createElement("div",{className:"table_box"},l.a.createElement(D.a,{columns:i,dataSource:s,scroll:{x:1400},loading:{tip:"Loading...",spinning:this.state.flag},pagination:{current:this.state.currentPage,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(){return"\u5171".concat(e.state.total,"\u6761\u6570\u636e\uff0c\u5f53\u524d\u7b2c").concat(e.state.currentPage,"\u9875")}},onChange:this.handleTableChange.bind(this)})),l.a.createElement("div",{className:"modal"},l.a.createElement(m.a,{title:"\u6ee1\u610f\u5ea6\u8c03\u67e5",width:375,centered:!0,visible:this.state.modalVisible,onOk:function(){return e.setModalVisible(!1)},onCancel:function(){return e.setModalVisible(!1)}},l.a.createElement("div",{className:"item_box"},this.state.questionList.map((function(t,n){return l.a.createElement("div",{className:"item",key:n},l.a.createElement("p",{className:"question"},n+1,"\u3001",t.question),l.a.createElement("div",{className:"answer_box"},l.a.createElement(a,{onChange:e.selectIsStaff,value:t.answer},e.state.answerList.map((function(e,t){return l.a.createElement(R.a,{value:5-t,disabled:!0,key:t},e.name)})))))}))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",{className:"version"},"v ",this.state.version1),l.a.createElement("p",{className:"time"},"\u63d0\u4ea4\u65f6\u95f4\uff1a",this.state.create_at))))))}}]),t}(i.Component)),Y=(a(422),l.a.createElement($.a,null,l.a.createElement($.a.Item,{key:"1"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u5e8f\u53f7\u4e0b\u8f7d"),l.a.createElement($.a.Item,{key:"2"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u6587\u672c\u4e0b\u8f7d")),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).selectTime=function(e,t){a.setState({startTime:t[0],endTime:t[1]})},a.selectWay=function(e){a.setState({way:e.target.value})},a.selectIsStaff=function(e){a.setState({isStaff:e.target.value})},a.selectVersion=function(e){a.setState({version:e})},a.selectSex=function(e){a.setState({sex:e.target.value})},a.selectPhone=function(e){a.setState({phone:e})},a.selectNickname=function(e){a.setState({nickname:e.target.value})},a.yijiancontent=function(e){a.setState({yijiancontent:e.target.value})},a.search=function(){a.fetchData()},a.clear=function(){a.setState({startTime:null,endTime:null,way:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,yijiancontent:""},(function(){a.fetchData()}))},a.searchCommunity=function(e){var t={access_token:a.getQueryString("access_token"),page:1,page_size:10,keyword:""==e?"\u4e03\u661f":e};K.get(t,"backend/communitySearch").then((function(e){0==e.code?a.setState({communityList:e.content.data}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))},a.selectCommunity=function(e){a.setState({community:e.name,community_uuid:e.uuid},(function(){}))},a.renderEmployee=function(e){switch(e){case 1:return"\u5458\u5de5";case 2:return"\u975e\u5458\u5de5"}},a.renderGender=function(e){switch(e){case 1:return"\u7537";case 2:return"\u5973";case 0:return"\u672a\u77e5"}},a.renderWay=function(e){switch(e){case 1:return"IOS";case 2:return"\u5b89\u5353"}},a.tofixed=function(e){return Number(e).toFixed(1)+"%"},a.goIdeaDetail=function(e){console.log(e.id);var t={pathname:"/lookidea/detail/".concat(e.id,"?access_token=").concat(window.sessionStorage.getItem("access_token")),query:e.id};U.push(t)},a.Download=function(){var e;e="https://yjfk-backend-czy.colourlife.com"==document.domain?"https://yjfk-backend-czy.colourlife.com":"https://yjfk-backend-czytest.colourlife.com";var t=null,n=null;"\u8bf7\u9009\u62e9"!=a.state.version&&(t=a.state.version),"\u8bf7\u9009\u62e9\u5c0f\u533a"!=a.state.community&&(n=a.state.community),window.location.href=e+"/backend/feedback/excel?access_token="+window.sessionStorage.getItem("access_token")+"&is_reply=0&time_start="+a.state.startTime+"&time_end="+a.state.endTime+"&from_type="+a.state.way+"&version="+t+"&gender="+a.state.sex+"&community_id="+n+"&mobile="+a.state.phone+"&nick_name="+a.state.nickname},a.state=Object(O.a)({yijiancontent:"",userName:null,modalVisible:!1,access_token:null,id:null,test:["test1","test2","test3"],currentPage:1,total:0,pageSize:10,data:null,flag:!1,visible:!1,userId:null,previewVisible:null,previewImage:null,startTime:null,endTime:null,way:null,isStaff:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u9009\u62e9\u5c0f\u533a",phone:null,nickname:null,questionList:[],answerList:[{name:"\u975e\u5e38\u6ee1\u610f",id:1},{name:"\u6ee1\u610f",id:2},{name:"\u4e00\u822c",id:3},{name:"\u4e0d\u6ee1\u610f",id:4},{name:"\u975e\u5e38\u4e0d\u6ee1\u610f",id:5}],version1:null,create_at:null,totalhpDegree:null,totalmyDegree:null,versionList:[],communityList:[],community_uuid:null},"data",[]),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getVersionList(),this.fetchData()}},{key:"getVersionList",value:function(){var e=this,t={access_token:this.getQueryString("access_token")};K.get(t,"backend/versionList").then((function(t){0==t.code?e.setState({versionList:t.content}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,content:this.state.yijiancontent,page:1,page_size:this.state.pageSize};K.get(a,"backend/feedback/list/one").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData1",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,page:this.state.currentPage,page_size:this.state.pageSize};K.get(a,"backend/feedback/list/one").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"formdata",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),Date.parse(t)/1e3}},{key:"formdata1",value:function(e){var t=new Date(e);return t.setHours(23),t.setMinutes(59),t.setSeconds(59),Date.parse(t)/1e3}},{key:"getQueryString",value:function(e){if(""==window.location.search){var t=document.location.toString().split("?");if(t.length>1){for(var a,n=t[1].split("&"),s=0;s<n.length;s++)if(null!=(a=n[s].split("="))&&a[0]==e)return a[1];return""}return""}var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=window.location.search.substr(1).match(i);return null!=l?unescape(l[2]):null}},{key:"urljson",value:function(e){var t=/([^&=]+)=([\w\W]*?)(&|$|#)/g,a=/^[^\?]+\?([\w\W]+)$/.exec(e),n={};if(a&&a[1])for(var s,i=a[1];null!=(s=t.exec(i));)n[s[1]]=s[2];return n}},{key:"toDetail",value:function(e){var t=this;this.setModalVisible(!0);var a={access_token:this.getQueryString("access_token"),id:e.id};K.get(a,"backend/detail").then((function(e){0==e.code?t.setState({questionList:e.content.list,version1:e.content.version,create_at:e.content.create_at}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"handleTableChange",value:function(e){var t=this,a=e.current||1;this.setState({currentPage:a},(function(){t.fetchData1()}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this,t=W.a.RangePicker,a=R.a.Group,n=Q.a.Option,s=this.state.data,i=[{title:"\u72b6\u6001",align:"center",dataIndex:"is_replay",key:"is_replay",width:100,render:function(e){return 0===e?l.a.createElement(P.a,{color:"#f50",style:{padding:0}},"\u672a\u56de\u590d"):1===e?l.a.createElement(P.a,{color:"#87d068",style:{padding:0}},"\u5df2\u56de\u590d"):void 0}},{title:"\u7528\u6237ID",align:"center",dataIndex:"user_id",key:"user_id",width:160,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6635\u79f0",align:"center",dataIndex:"nick_name",key:"nick_name",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u624b\u673a\u53f7",align:"center",dataIndex:"mobile",key:"mobile",width:140,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5c0f\u533a",align:"center",dataIndex:"community_name",key:"community_name",width:150,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6e20\u9053",align:"center",dataIndex:"from_type",key:"from_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u7248\u672c",align:"center",dataIndex:"version",key:"version",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5206\u7c7b",align:"center",dataIndex:"feedback_type",key:"feedback_type",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u610f\u89c1\u8be6\u60c5",align:"center",dataIndex:"content",key:"content",width:450,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u64cd\u4f5c",align:"center",key:"operation",width:150,render:function(t,a){return l.a.createElement("a",{onClick:function(){e.goIdeaDetail(t)}},"\u67e5\u770b")}}];return l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:24})),l.a.createElement("div",{className:"show"},l.a.createElement("div",{className:"search_box",style:{position:"relative"}},l.a.createElement("div",{className:"search_content"},l.a.createElement("div",{className:"evaluation_time search_item"},l.a.createElement("span",{className:"txt"},"\u8bc4\u4ef7\u65f6\u95f4\uff1a"),l.a.createElement(t,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],size:"small",onChange:this.selectTime})),l.a.createElement("div",{className:"way search_item"},l.a.createElement("span",{className:"txt"},"\u6e20\u9053\uff1a"),l.a.createElement(a,{onChange:this.selectWay,value:this.state.way},l.a.createElement(R.a,{value:"1"},"ios"),l.a.createElement(R.a,{value:"2"},"android"))),l.a.createElement("div",{className:"version search_item"},l.a.createElement("span",{className:"txt"},"\u7248\u672c\uff1a"),l.a.createElement(Q.a,{size:"small",defaultValue:"\u8bf7\u9009\u62e9",style:{width:100},onChange:this.selectVersion,value:this.state.version},this.state.versionList.map((function(e,t){return l.a.createElement(n,{value:e.version,key:t},e.version)})))),l.a.createElement("div",{className:"sex search_item"},l.a.createElement("span",{className:"txt"},"\u6027\u522b\uff1a"),l.a.createElement(a,{onChange:this.selectSex,value:this.state.sex},l.a.createElement(R.a,{value:"1"},"\u7537"),l.a.createElement(R.a,{value:"2"},"\u5973"))),l.a.createElement("div",{className:"community search_item"},l.a.createElement("span",{className:"txt"},"\u5c0f\u533a\uff1a"),l.a.createElement(Q.a,{showSearch:!0,size:"small",value:this.state.community,placeholder:"\u8bf7\u8f93\u5165\u5c0f\u533a",style:{width:100},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.searchCommunity,onChange:this.selectCommunity,notFoundContent:null},this.state.communityList.map((function(e,t){return l.a.createElement(n,{value:e,index:t},e.name)})))),l.a.createElement("div",{className:"phone search_item"},l.a.createElement("span",{className:"txt"},"\u624b\u673a\u53f7\uff1a"),l.a.createElement(L.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",className:"phone_input",size:"small",maxLength:11,onChange:this.selectPhone,value:this.state.phone})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u6635\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",className:"phone_input",size:"small",onChange:this.selectNickname,value:this.state.nickname})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u610f\u89c1\u5185\u5bb9\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u610f\u89c1\u5185\u5bb9",className:"phone_input",size:"small",onChange:this.yijiancontent,value:this.state.yijiancontent}))),l.a.createElement("div",{className:"search_btn"},l.a.createElement(z.a,{type:"primary",style:{marginRight:15},onClick:this.search},"\u7b5b\u9009"),l.a.createElement(z.a,{onClick:this.clear},"\u91cd\u7f6e"))),l.a.createElement("div",{className:"table_box"},l.a.createElement(D.a,{columns:i,dataSource:s,scroll:{x:1400},loading:{tip:"Loading...",spinning:this.state.flag},pagination:{current:this.state.currentPage,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(){return"\u5171".concat(e.state.total,"\u6761\u6570\u636e\uff0c\u5f53\u524d\u7b2c").concat(e.state.currentPage,"\u9875")}},onChange:this.handleTableChange.bind(this)})),l.a.createElement("div",{className:"modal"},l.a.createElement(m.a,{title:"\u6ee1\u610f\u5ea6\u8c03\u67e5",width:375,centered:!0,visible:this.state.modalVisible,onOk:function(){return e.setModalVisible(!1)},onCancel:function(){return e.setModalVisible(!1)}},l.a.createElement("div",{className:"item_box"},this.state.questionList.map((function(t,n){return l.a.createElement("div",{className:"item",key:n},l.a.createElement("p",{className:"question"},n+1,"\u3001",t.question),l.a.createElement("div",{className:"answer_box"},l.a.createElement(a,{onChange:e.selectIsStaff,value:t.answer},e.state.answerList.map((function(e,t){return l.a.createElement(R.a,{value:5-t,disabled:!0,key:t},e.name)})))))}))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",{className:"version"},"v ",this.state.version1),l.a.createElement("p",{className:"time"},"\u63d0\u4ea4\u65f6\u95f4\uff1a",this.state.create_at))))))}}]),t}(i.Component)),X=(a(423),T.a.TabPane),Z=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",Object(O.a)({className:"lookdetail"},"className","weihui-wrapper"),l.a.createElement("span",{className:"weihui-dot"}),l.a.createElement(T.a,{defaultActiveKey:"3",type:"line"},l.a.createElement(X,{tab:"\u672a\u56de\u590d\u610f\u89c1",key:"1"},l.a.createElement(Y,null)),l.a.createElement(X,{tab:"\u5df2\u56de\u590d\u610f\u89c1",key:"2"},l.a.createElement(B,null)),l.a.createElement(X,{tab:"\u5168\u90e8\u610f\u89c1",key:"3"},l.a.createElement("div",{className:"allidea"},l.a.createElement(G,null)))))}}]),t}(i.Component),ee=(a(424),function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"lookidea"},l.a.createElement("div",{className:"bread-title"},l.a.createElement("div",{className:"bread-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"bread-pingjia",style:{marginLeft:10}},"\u610f\u89c1\u53cd\u9988"),l.a.createElement(I.a.Item,null,"\u67e5\u770b\u610f\u89c1")))),l.a.createElement("div",{className:"lookidea-content"},l.a.createElement(Z,null)))}}]),t}(i.Component)),te=(a(425),a(222)),ae=a(65),ne=(a(427),m.a.confirm),se=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleEdit=function(){var e=K.getToken(),t=Object(ae.a)(a);K.get({access_token:e,name:a.state.inputValue2,id:a.state.editData.id},"/backend/feedbackType/edit").then((function(e){console.log(e),0===e.code?(d.a.success(e.content),t.setState({showModal2:!1,inputValue2:""}),t.getData()):d.a.error(e.message)}))},a.handleDelete=function(e){console.log(e);var t=K.getToken(),n=Object(ae.a)(a);ne({title:"\u4f60\u771f\u7684\u8981\u5220\u9664\u5417?",okText:"\u5220\u9664",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){K.get({access_token:t,id:e.id},"/backend/feedbackType/del").then((function(e){console.log(e),0===e.code?(d.a.success(e.content),n.getData()):d.a.error(e.message)}))},onCancel:function(){console.log("Cancel")}})},a.handleShow=function(){console.log("\u65b0\u589e"),console.log(a.state.inputValue),a.setState({showModal1:!0,inputValue:"",inputValue2:""})},a.handleShow2=function(e){a.setState({showModal2:!0,inputValue2:e.name,editData:e})},a.handleInput=function(e){a.setState({inputValue:e.target.value})},a.handleInput2=function(e){a.setState({inputValue2:e.target.value})},a.state={contentedit:"",showModal1:!1,showModal2:!1,inputValue:"",inputValue2:"",editData:"",tableList:[],columns:[{title:"\u7c7b\u578b\u540d\u79f0",dataIndex:"name",key:"name",render:function(e){return l.a.createElement("span",null,e)}},{title:"\u64cd\u4f5c",key:"action",render:function(e,t){return l.a.createElement("span",null,l.a.createElement("a",{onClick:a.handleShow2.bind(Object(ae.a)(a),e)},"\u7f16\u8f91"),l.a.createElement(te.a,{type:"vertical"}),l.a.createElement("a",{onClick:a.handleDelete.bind(Object(ae.a)(a),e),style:{color:"red"}},"\u5220\u9664"))}}]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"handleAdd",value:function(){var e=K.getToken(),t=this;K.get({access_token:e,name:this.state.inputValue},"/backend/feedbackType/add").then((function(e){console.log(e),0===e.code?(d.a.success(e.content),t.setState({inputValue:"",showModal1:!1},(function(){t.getData()}))):d.a.error(e.message)}))}},{key:"getData",value:function(){var e=this,t=K.getToken();K.get({access_token:t,name:this.state.inputValue},"/backend/feedbackType/list").then((function(t){console.log(t),0===t.code?e.setState({tableList:t.content}):d.a.error(t.message)}))}},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"setlei"},l.a.createElement("div",{className:"setlei-title",style:{marginTop:20}},l.a.createElement("h1",{style:{fontSize:29,fontWeight:600,marginLeft:29}},"\u610f\u89c1\u53cd\u9988\u7c7b\u578b")),l.a.createElement("div",{className:"setlei-content"},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:24},l.a.createElement(z.a,{type:"primary",style:{float:"right"},onClick:this.handleShow},"\u65b0\u589e\u7c7b\u578b"))),l.a.createElement(D.a,{columns:this.state.columns,dataSource:this.state.tableList,pagination:!1,align:"right"})),l.a.createElement(m.a,{title:"\u65b0\u589e\u7c7b\u578b",visible:this.state.showModal1,footer:null,onCancel:function(){e.setState({showModal1:!1})},width:400,className:"setidea-modal"},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:5,className:"leixingname"},"\u7c7b\u578b\u540d\u79f0:"),l.a.createElement(V.a,{span:19},l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u8981\u589e\u52a0\u7684\u7c7b\u578b",onChange:this.handleInput,style:{borderRadius:"17px"},value:this.state.inputValue}))),l.a.createElement(M.a,{style:{marginTop:35}},l.a.createElement(V.a,{align:"center"},l.a.createElement(z.a,{type:"primary",onClick:this.handleAdd.bind(this)},"\u786e\u5b9a")))),l.a.createElement(m.a,{title:"\u7f16\u8f91\u7c7b\u578b",visible:this.state.showModal2,footer:null,onCancel:function(){e.setState({showModal2:!1})},width:400,className:"setidea-modal"},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:5,className:"leixingname"},"\u7c7b\u578b\u540d\u79f0:"),l.a.createElement(V.a,{span:19},l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u65b0\u7684\u7c7b\u578b\u540d",onChange:this.handleInput2,style:{borderRadius:"17px"},value:this.state.inputValue2}))),l.a.createElement(M.a,{style:{marginTop:35}},l.a.createElement(V.a,{align:"center"},l.a.createElement(z.a,{type:"primary",onClick:this.handleEdit.bind(this)},"\u786e\u5b9a")))))}}]),t}(i.Component),ie=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"setidea"},l.a.createElement("div",{className:"bread-title"},l.a.createElement("div",{className:"bread-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"bread-pingjia",style:{marginLeft:10}},"\u610f\u89c1\u53cd\u9988"),l.a.createElement(I.a.Item,null,"\u8bbe\u7f6e\u7c7b\u578b")))),l.a.createElement("div",{className:"setidea-content"},l.a.createElement(se,null)))}}]),t}(i.Component),le=(a(212),a(101)),ce=(a(94),a(27)),re=(a(430),D.a.Column),oe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleSearch=function(e){e.length<=2||K.wenjuan_search({access_token:a.state.access_token,keyword:e}).then((function(t){console.log(t),0===t.code?a.setState({wenjuan_list:t.content||[]},(function(){sessionStorage.getItem("wenjuan_name")&&sessionStorage.getItem("wenjuan_name").split(",")[1]===e&&a.state.wenjuan_list.length&&a.search_func(sessionStorage.getItem("wenjuan_name").split(",")[0])})):ce.a.error({message:"\u9519\u8bef",description:t.message})}))},a.search_func=function(e){console.log(e),"object"!=typeof e&&(a.state.wenjuan_name?K.wenjuan_analyze({access_token:a.state.access_token,question_id:e||a.state.wenjuan_name}).then((function(e){if(console.log(e),0===e.code){var t={};t.attend_num=e.content.attend_num,t.list=[],t.list=(e.content.fill||[]).concat(e.content.question||[]),a.setState({data:t})}else ce.a.error({message:"\u9519\u8bef",description:e.message})})):ce.a.warning({message:"\u63d0\u793a",description:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0"}))},a.state={data:{},wenjuan_name:"",wenjuan_list:[],access_token:"",title:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("wenjuan_name")?this.setState({access_token:sessionStorage.getItem("access_token"),wenjuan_name:sessionStorage.getItem("wenjuan_name").split(",")[0],title:sessionStorage.getItem("wenjuan_name").split(",")[1]},(function(){e.handleSearch(sessionStorage.getItem("wenjuan_name").split(",")[1])})):this.setState({access_token:sessionStorage.getItem("access_token")})}},{key:"render",value:function(){var e=this,t=Q.a.Option;return l.a.createElement("div",{className:"analyze"},l.a.createElement("div",{className:"top"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"\u95ee\u5377\u540d\u79f0"),l.a.createElement(Q.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0",defaultActiveFirstOption:!1,filterOption:!1,value:this.state.title,onChange:function(t,a){sessionStorage.setItem("wenjuan_name",t),e.setState({wenjuan_name:t.split(",")[0],title:t.split(",")[1]})},onSearch:this.handleSearch},this.state.wenjuan_list.length?this.state.wenjuan_list.map((function(e,a){return l.a.createElement(t,{key:a,value:e.id+","+e.name},e.name)})):"")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:function(){console.log(e.state.wenjuan_name),e.search_func(e.state.wenjuan_name)}},"\u67e5\u770b\u5206\u6790")),l.a.createElement("li",null,l.a.createElement(z.a,{onClick:function(){sessionStorage.removeItem("wenjuan_name"),e.setState({wenjuan_name:"",wenjuan_list:[],title:"",data:{}})}},"\u6e05\u7a7a"))),l.a.createElement("p",null,"\u53c2\u4e0e\u4eba\u6570: ",this.state.data.attend_num)),l.a.createElement("div",{className:"con"},l.a.createElement("ul",null,(this.state.data.list||[]).map((function(t,a){return l.a.createElement("div",{key:a},function(t,a){return 1===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u5355\u9009)")),l.a.createElement(D.a,{bordered:!0,dataSource:t.answer_list,rowKey:function(e){return e.id}},l.a.createElement(re,{title:"\u9009\u9879",dataIndex:"answer",align:"center"}),l.a.createElement(re,{title:"\u5c0f\u8ba1",align:"center",dataIndex:"count"}),l.a.createElement(re,{title:"\u6bd4\u4f8b",align:"center",dataIndex:"count",key:a,render:function(t,a){return l.a.createElement("div",null,l.a.createElement(le.a,{percent:Math.round(100*t/e.state.data.attend_num),size:"small",status:"active"}))}}))):2===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u591a\u9009)")),l.a.createElement(D.a,{bordered:!0,dataSource:t.answer_list,rowKey:function(e){return e.id}},l.a.createElement(re,{title:"\u9009\u9879",dataIndex:"answer",align:"center"}),l.a.createElement(re,{title:"\u5c0f\u8ba1",align:"center",dataIndex:"count"}),l.a.createElement(re,{title:"\u6bd4\u4f8b",align:"center",dataIndex:"count",key:a,render:function(t,a){return l.a.createElement("div",null,l.a.createElement(le.a,{percent:Math.round(100*t/e.state.data.attend_num),size:"small",status:"active"}))}}))):3===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u586b\u7a7a)")),l.a.createElement(z.a,{type:"primary",onClick:function(){U.push({pathname:"/detail_list",search:"id=".concat(t.id,"&question_id=").concat(e.state.wenjuan_name,"&title=").concat(e.state.title,"&question=").concat(t.question)})}},"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f")):4===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u6587\u672c)")),l.a.createElement(z.a,{type:"primary",onClick:function(){U.push({pathname:"/detail_list",search:"id=".concat(t.id,"&question_id=").concat(e.state.wenjuan_name,"&title=").concat(e.state.title,"&question=").concat(t.question)})}},"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f")):void 0}(t,a))})))))}}]),t}(l.a.Component),ue=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).search_func=function(){K.getFillList({access_token:a.state.access_token,question_id:a.state.question_id,id:a.state.id,page:a.state.currentPage,page_size:10}).then((function(e){0===e.code?a.setState({tableDataTotal:e.content.page.total_record,data:e.content.list||[]}):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},a.GetQueryString1=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=a.props.location.search.substr(1).match(t);return null!=n?n[2]:null},a.getDetail=function(e){K.getQuestionList({access_token:a.state.access_token,id:e}).then((function(e){0===e.code?(console.log(e),m.a.info({title:e.content.question_name,content:l.a.createElement("div",{className:"detail_alert"},l.a.createElement("p",null,l.a.createElement("span",null,"id\uff1a"),e.content.id),l.a.createElement("p",null,l.a.createElement("span",null,"ip\uff1a"),e.content.ip),l.a.createElement("p",null,l.a.createElement("span",null,"\u95ee\u5377\u6765\u6e90\uff1a"),e.content.source),l.a.createElement("p",null,l.a.createElement("span",null,"\u624b\u673a\u53f7\uff1a"),e.content.mobile),l.a.createElement("p",null,l.a.createElement("span",null,"\u95ee\u5377\u4eba\uff1a"),e.content.name),l.a.createElement("p",null,l.a.createElement("span",null,"\u63d0\u4ea4\u65f6\u95f4\uff1a"),e.content.submit_time),l.a.createElement("h3",null,"\u95ee\u5377\u8be6\u7ec6\uff1a"),e.content.question.length?l.a.createElement("ul",null,e.content.question.map((function(e,t){return console.log(e),1===e.answer_type?l.a.createElement("li",{key:t},l.a.createElement("h3",null,t+1,"\u3001\u5355\u9009\u9898\uff1a"),l.a.createElement("p",null,e.question,"?"),e.answer_list.length?l.a.createElement("div",null,e.answer_list.map((function(e,t){return l.a.createElement("span",{key:t,className:1===e.select?"select":""},"".concat(a.state.words[t],".").concat(e.answer))}))):""):l.a.createElement("li",{key:t},l.a.createElement("h3",null,t+1,"\u3001\u591a\u9009\u9898\uff1a"),l.a.createElement("p",null,e.question,"?"),e.answer_list.length?l.a.createElement("div",null,e.answer_list.map((function(e,t){return l.a.createElement("span",{key:t,className:1===e.select?"select":""},"".concat(a.state.words[t],".").concat(e.answer))}))):"")}))):l.a.createElement("div",null),e.content.fill.length?l.a.createElement("ul",null,e.content.fill.map((function(t,a){return 3===t.answer_type?l.a.createElement("li",{key:a},l.a.createElement("h3",null,a+1+e.content.question.length,"\u3001\u586b\u7a7a\u9898\uff1a"),l.a.createElement("p",null,t.question,"?"),l.a.createElement("div",null,l.a.createElement("span",null,t.answer))):l.a.createElement("li",{key:a},l.a.createElement("h3",null,a+1+e.content.question.length,"\u3001\u6587\u672c\u9898\uff1a"),l.a.createElement("p",null,t.question,"?"),l.a.createElement("div",null,l.a.createElement("span",null,t.answer)))}))):l.a.createElement("div",null),l.a.createElement("p",{style:{color:"red"}},"*\u7ea2\u8272\u8868\u793a\u5df2\u9009\u62e9")),okText:"\u786e\u8ba4"})):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},a.state={data:[],currentPage:1,tableDataTotal:0,visible:!1,access_token:"",id:a.GetQueryString1("id"),question_id:a.GetQueryString1("question_id"),title:decodeURI(a.GetQueryString1("title")),question_title:decodeURI(a.GetQueryString1("question")),words:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.document.title="\u95ee\u5377\u8be6\u60c5",this.setState({access_token:sessionStorage.getItem("access_token")},(function(){e.search_func()}))}},{key:"render",value:function(){var e=this,t=D.a.Column;return l.a.createElement("div",{style:{marginTop:20}},l.a.createElement("div",null,l.a.createElement(z.a,{onClick:function(){window.history.go(-1)}},"\u8fd4\u56de")),l.a.createElement("p",{style:{marginTop:10}},"\u6807\u9898\uff1a",this.state.title),l.a.createElement("p",{style:{marginTop:10}},"\u95ee\u9898\uff1a",this.state.question_title),l.a.createElement(D.a,{bordered:!0,dataSource:this.state.data,rowKey:function(e){return e.id},pagination:{current:this.state.currentPage,pageSize:10,total:this.state.tableDataTotal,showTotal:function(e){return"\u603b\u5171".concat(e,"\u6761\u6570\u636e")}},onChange:function(t){e.setState({currentPage:t.current},(function(){e.search_func()}))}},l.a.createElement(t,{title:"\u5e8f\u53f7",dataIndex:"id",width:80,align:"center"}),l.a.createElement(t,{title:"\u586b\u5199\u65f6\u95f4",align:"center",width:150,dataIndex:"submit_time"}),l.a.createElement(t,{title:"\u586b\u7a7a\u5185\u5bb9",align:"center",dataIndex:"content"}),l.a.createElement(t,{title:"\u64cd\u4f5c",align:"center",width:100,render:function(t,a){return l.a.createElement("div",null,l.a.createElement(z.a,{type:"primary",onClick:e.getDetail.bind(e,t.id),size:"small"},"\u8be6\u60c5"))}})))}}]),t}(l.a.Component),me=(a(154),a(98)),de=(a(213),R.a.Group),he=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){console.log("selected ".concat(e))},a.handleBlur=function(){console.log("blur")},a.handleFocus=function(){console.log("focus")},a.addRadio=function(){var e=a.state.mmoudle;e.push({answer_type:1,question:"",answer:[]}),a.setState({mmoudle:e})},a.addCheckbox=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:2,answer:[]}),a.setState({mmoudle:e})},a.addtext=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:3,must_fill:!1}),a.setState({mmoudle:e})},a.aaddTextarea=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:4,must_fill:!1}),a.setState({mmoudle:e})},a.list_operation=function(e){return l.a.createElement("div",null,l.a.createElement(z.a,{icon:"delete",shape:"circle",title:"\u5220\u9664",type:"primary",size:"large",onClick:function(){var t=a.state.mmoudle;t.splice(e,1),a.setState({mmoudle:t})}}),l.a.createElement(z.a,{icon:"arrow-up",disabled:0===e,shape:"circle",type:"primary",title:"\u4e0a\u79fb",size:"large",onClick:function(){var t=a.state.mmoudle,n=t.splice(e,1)[0];t.splice(e-1,0,n),console.log(t),a.setState({mmoudle:t})}}),l.a.createElement(z.a,{icon:"arrow-down",disabled:e===a.state.mmoudle.length-1,shape:"circle",title:"\u4e0b\u79fb",type:"primary",size:"large",onClick:function(){var t=a.state.mmoudle,n=t.splice(e,1)[0];t.splice(e+1,0,n),console.log(t),a.setState({mmoudle:t})}}))},a.sub_options=function(e,t){return l.a.createElement("div",null,l.a.createElement("p",{className:"sub_p"},"\u9009\u9879\u5217\u8868:"),e.answer.map((function(n,s){return l.a.createElement("li",{key:s,className:"sub_li"},l.a.createElement("span",null,a.state.words[s],":"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u9009\u9879\u503c",onChange:function(e){e.persist();var n=a.state.mmoudle;n[t].answer[s]=e.target.value,a.setState({mmoudle:n})},style:{width:200},value:e.answer[s]}),l.a.createElement(z.a,{icon:"delete",shape:"circle",title:"\u5220\u9664",type:"primary",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer;n.splice(s,1),e[t].answer=n,a.setState({mmoudle:e})}}),l.a.createElement(z.a,{icon:"arrow-up",disabled:0===s,shape:"circle",type:"primary",title:"\u4e0a\u79fb",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer,i=n.splice(s,1)[0];n.splice(s-1,0,i),e[t].answer=n,a.setState({mmoudle:e})}}),l.a.createElement(z.a,{icon:"arrow-down",disabled:s===e.answer.length-1,shape:"circle",title:"\u4e0b\u79fb",type:"primary",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer,i=n.splice(s,1)[0];n.splice(s+1,0,i),e[t].answer=n,a.setState({mmoudle:e})}}))})),l.a.createElement(z.a,{className:"sub_li_button",icon:"plus",size:"small",type:"primary",onClick:function(){var e=a.state.mmoudle;e[t].answer.push(""),a.setState({mmoudle:e})}},"\u65b0\u589e\u9009\u9879"))},a.set_title=function(e,t){return l.a.createElement("div",null,void 0!==e.must_fill?l.a.createElement("div",{className:"is_must"},"\u662f\u5426\u5fc5\u586b\uff1f",l.a.createElement(de,{onChange:function(e){var n=a.state.mmoudle;console.log(n[t].must_fill),n[t].must_fill=e.target.value,a.setState({mmoudle:n})},value:e.must_fill},l.a.createElement(R.a,{value:!1},"\u975e\u5fc5\u586b"),l.a.createElement(R.a,{value:!0},"\u5fc5\u586b"))):"",l.a.createElement("span",null,"\u6807\u9898\u540d\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){var n=a.state.mmoudle;n[t].question=e.target.value,a.setState({mmoudle:n})},style:{width:200},value:e.question}))},a.submit=function(){if(a.state.wenjuan_name){console.log(a.state.mmoudle);var e=[],t=[];a.state.mmoudle.map((function(n,s){return function(n,s){if(n.question)if(a.setState({loading:!0},(function(){setTimeout((function(){a.setState({loading:!1})}),3e3)})),n.answer){var i=[];n.answer.map((function(e,t){return i.push({id:t,answer:e})})),K.question_add({access_token:a.state.access_token,answer:JSON.stringify(i),question:n.question,answer_type:n.answer_type}).then((function(t){0===t.code?e[s]=t.content.id:ce.a.error({message:"\u9519\u8bef",description:t.message})}))}else console.log("before",s),K.question_add({access_token:a.state.access_token,question:n.question,answer_type:n.answer_type,must_fill:n.must_fill?2:1}).then((function(e){0===e.code?(t[s]=e.content.id,console.log("finish",s)):ce.a.error({message:"\u9519\u8bef",description:e.message})}));else ce.a.warning({message:"\u8b66\u544a",description:"\u7b2c".concat(s+1,"\u9898\u8bf7\u586b\u5199\u6807\u9898\u540d\u79f0")})}(n,s)}));var n=setInterval((function(){var s=[],i=[];t.map((function(e){e&&s.push(e)})),e.map((function(e){e&&i.push(e)})),console.log(s,i),s.length+i.length===a.state.mmoudle.length&&(clearInterval(n),K.question_list_add({access_token:a.state.access_token,name:a.state.wenjuan_name,question_ids:JSON.stringify(i),fill_ids:JSON.stringify(s)}).then((function(e){a.setState({loading:!1}),0===e.code?(ce.a.success({message:"\u6210\u529f",description:"\u60a8\u5df2\u521b\u5efa\u6210\u529f\u65b0\u7684\u95ee\u5377\uff01"}),a.setState({mmoudle:[],wenjuan_name:""})):ce.a.error({message:"\u9519\u8bef",description:e.message})})))}),100)}else ce.a.warning({message:"\u8b66\u544a",description:"\u8bf7\u586b\u5199\u95ee\u5377\u6807\u9898"})},a.state={mmoudle:[],words:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wenjuan_name:"",loading:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({access_token:sessionStorage.getItem("access_token")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"new_module",style:{marginTop:20}},l.a.createElement(me.a,{size:"large",spinning:this.state.loading,tip:"\u63d0\u4ea4\u4e2d"},l.a.createElement(z.a,{onClick:function(){window.history.go(-1)}},"\u8fd4\u56de"),l.a.createElement("ul",{className:"ul"},l.a.createElement("li",null,l.a.createElement("span",null,"\u6807\u9898\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u5bf9\u8c61",value:this.state.wenjuan_name,onChange:function(t){e.setState({wenjuan_name:t.target.value})},style:{width:200}}))),l.a.createElement("hr",null),l.a.createElement("ol",null,l.a.createElement("p",null,"\u65b0\u589e\u95ee\u9898\u7c7b\u578b: "),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addRadio},"\u5355\u9009")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addCheckbox},"\u591a\u9009")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addtext},"\u586b\u7a7a")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.aaddTextarea},"\u6587\u672c"))),l.a.createElement("ul",{className:"con"},this.state.mmoudle.map((function(t,a){return function(t,a){return 1===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u5355\u9009"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a),l.a.createElement("ul",null,e.sub_options(t,a))))):2===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u591a\u9009"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a),l.a.createElement("ul",null,e.sub_options(t,a))))):3===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u586b\u7a7a"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a)))):4===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u6587\u672c"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a)))):void 0}(t,a)}))),l.a.createElement("div",null,l.a.createElement("div",{className:"bot"},this.state.mmoudle.length?l.a.createElement(z.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4"):""))))}}]),t}(l.a.Component),pe=R.a.Group,fe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleChange=function(e){console.log("selected ".concat(e))},a.handleBlur=function(){console.log("blur")},a.handleFocus=function(){console.log("focus")},a.addRadio=function(){var e=a.state.mmoudle;e.push({answer_type:1,question:"",answer:[]}),a.setState({mmoudle:e})},a.addCheckbox=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:2,answer:[]}),a.setState({mmoudle:e})},a.addtext=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:3,must_fill:!1}),a.setState({mmoudle:e})},a.aaddTextarea=function(){var e=a.state.mmoudle;e.push({question:"",answer_type:4,must_fill:!1}),a.setState({mmoudle:e})},a.list_operation=function(e){return l.a.createElement("div",null,l.a.createElement(z.a,{icon:"delete",shape:"circle",title:"\u5220\u9664",type:"primary",size:"large",onClick:function(){var t=a.state.mmoudle;t.splice(e,1),a.setState({mmoudle:t})}}),l.a.createElement(z.a,{icon:"arrow-up",disabled:0===e,shape:"circle",type:"primary",title:"\u4e0a\u79fb",size:"large",onClick:function(){var t=a.state.mmoudle,n=t.splice(e,1)[0];t.splice(e-1,0,n),console.log(t),a.setState({mmoudle:t})}}),l.a.createElement(z.a,{icon:"arrow-down",disabled:e===a.state.mmoudle.length-1,shape:"circle",title:"\u4e0b\u79fb",type:"primary",size:"large",onClick:function(){var t=a.state.mmoudle,n=t.splice(e,1)[0];t.splice(e+1,0,n),console.log(t),a.setState({mmoudle:t})}}))},a.sub_options=function(e,t){return l.a.createElement("div",null,l.a.createElement("p",{className:"sub_p"},"\u9009\u9879\u5217\u8868:"),e.answer.map((function(n,s){return l.a.createElement("li",{key:s,className:"sub_li"},l.a.createElement("span",null,a.state.words[s],":"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u9009\u9879\u503c",onChange:function(e){e.persist();var n=a.state.mmoudle;n[t].answer[s]=e.target.value,a.setState({mmoudle:n})},style:{width:200},value:e.answer[s]}),l.a.createElement(z.a,{icon:"delete",shape:"circle",title:"\u5220\u9664",type:"primary",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer;n.splice(s,1),e[t].answer=n,a.setState({mmoudle:e})}}),l.a.createElement(z.a,{icon:"arrow-up",disabled:0===s,shape:"circle",type:"primary",title:"\u4e0a\u79fb",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer,i=n.splice(s,1)[0];n.splice(s-1,0,i),e[t].answer=n,a.setState({mmoudle:e})}}),l.a.createElement(z.a,{icon:"arrow-down",disabled:s===e.answer.length-1,shape:"circle",title:"\u4e0b\u79fb",type:"primary",size:"small",onClick:function(){var e=a.state.mmoudle,n=e[t].answer,i=n.splice(s,1)[0];n.splice(s+1,0,i),e[t].answer=n,a.setState({mmoudle:e})}}))})),l.a.createElement(z.a,{className:"sub_li_button",icon:"plus",size:"small",type:"primary",onClick:function(){var e=a.state.mmoudle;e[t].answer.push(""),a.setState({mmoudle:e})}},"\u65b0\u589e\u9009\u9879"))},a.set_title=function(e,t){return l.a.createElement("div",null,void 0!==e.must_fill?l.a.createElement("div",{className:"is_must"},"\u662f\u5426\u5fc5\u586b\uff1f",l.a.createElement(pe,{onChange:function(e){var n=a.state.mmoudle;console.log(n[t].must_fill),n[t].must_fill=e.target.value,a.setState({mmoudle:n})},value:e.must_fill},l.a.createElement(R.a,{value:!1},"\u975e\u5fc5\u586b"),l.a.createElement(R.a,{value:!0},"\u5fc5\u586b"))):"",l.a.createElement("span",null,"\u6807\u9898\u540d\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6807\u9898",onChange:function(e){var n=a.state.mmoudle;n[t].question=e.target.value,a.setState({mmoudle:n})},style:{width:200},value:e.question}))},a.submit=function(){if(console.log("\u7f16\u8f91\u95ee\u5377\u51c6\u5907\u63d0\u4ea4"),a.state.wenjuan_name){console.log(a.state.mmoudle);var e=[],t=[];a.state.mmoudle.map((function(n,s){return function(n,s){if(n.question)if(a.setState({loading:!0},(function(){setTimeout((function(){a.setState({loading:!1})}),3e3)})),n.answer){var i=[];n.answer.map((function(e,t){return i.push({id:t,answer:e})})),K.question_add({access_token:a.state.access_token,answer:JSON.stringify(i),question:n.question,answer_type:n.answer_type}).then((function(t){0===t.code?e[s]=t.content.id:ce.a.error({message:"\u9519\u8bef",description:t.message})}))}else console.log("before",s),K.question_add({access_token:a.state.access_token,question:n.question,answer_type:n.answer_type,must_fill:n.must_fill?2:1}).then((function(e){0===e.code?(t[s]=e.content.id,console.log("finish",s)):ce.a.error({message:"\u9519\u8bef",description:e.message})}));else ce.a.warning({message:"\u8b66\u544a",description:"\u7b2c".concat(s+1,"\u9898\u8bf7\u586b\u5199\u6807\u9898\u540d\u79f0")})}(n,s)}));var n=setInterval((function(){var s=[],i=[];t.map((function(e){e&&s.push(e)})),e.map((function(e){e&&i.push(e)})),console.log(s,i),s.length+i.length===a.state.mmoudle.length&&(clearInterval(n),K.question_list_add({access_token:a.state.access_token,name:a.state.wenjuan_name,question_ids:JSON.stringify(i),fill_ids:JSON.stringify(s)}).then((function(e){a.setState({loading:!1}),0===e.code?(ce.a.success({message:"\u6210\u529f",description:"\u60a8\u5df2\u521b\u5efa\u6210\u529f\u65b0\u7684\u95ee\u5377\uff01"}),a.setState({mmoudle:[],wenjuan_name:""})):ce.a.error({message:"\u9519\u8bef",description:e.message})})))}),100)}else ce.a.warning({message:"\u8b66\u544a",description:"\u8bf7\u586b\u5199\u95ee\u5377\u6807\u9898"})},a.state={mmoudle:[],words:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],wenjuan_name:"",loading:!1},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.setState({access_token:sessionStorage.getItem("access_token")})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"new_module",style:{marginTop:20}},l.a.createElement(me.a,{size:"large",spinning:this.state.loading,tip:"\u63d0\u4ea4\u4e2d"},l.a.createElement(z.a,{onClick:function(){window.history.go(-1)}},"\u8fd4\u56de"),l.a.createElement("ul",{className:"ul"},l.a.createElement("li",null,l.a.createElement("span",null,"\u6807\u9898\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u5bf9\u8c61",value:this.state.wenjuan_name,onChange:function(t){e.setState({wenjuan_name:t.target.value})},style:{width:200}}))),l.a.createElement("hr",null),l.a.createElement("ol",null,l.a.createElement("p",null,"\u65b0\u589e\u95ee\u9898\u7c7b\u578b: "),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addRadio},"\u5355\u9009")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addCheckbox},"\u591a\u9009")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.addtext},"\u586b\u7a7a")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:this.aaddTextarea},"\u6587\u672c"))),l.a.createElement("ul",{className:"con"},this.state.mmoudle.map((function(t,a){return function(t,a){return 1===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u5355\u9009"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a),l.a.createElement("ul",null,e.sub_options(t,a))))):2===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u591a\u9009"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a),l.a.createElement("ul",null,e.sub_options(t,a))))):3===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u586b\u7a7a"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a)))):4===t.answer_type?l.a.createElement("div",{key:a,className:"eachOne"},l.a.createElement("div",{className:"index"},a+1,"."),l.a.createElement("div",{style:{overflow:"hidden"}},l.a.createElement("h3",null,"\u6587\u672c"),l.a.createElement("div",{className:"left"},e.list_operation(a)),l.a.createElement("div",{className:"right"},e.set_title(t,a)))):void 0}(t,a)}))),l.a.createElement("div",null,l.a.createElement("div",{className:"bot"},this.state.mmoudle.length?l.a.createElement(z.a,{type:"primary",onClick:this.submit},"\u63d0\u4ea4"):""))))}}]),t}(l.a.Component),ge=(a(193),a(56)),ve=(a(431),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).state={showModal2:!1,showModal3:!1,list:"",tiHuanList:[]},a.onChange=function(){console.log("\u6211\u88ab\u9009\u4e86")},a.onChangeData=function(e){console.log("checked = ".concat(e.target.checked)),a.props.history.push("appraise/DataSurvey")},a.onChangeTihuan=function(){var e=window.sessionStorage.getItem("access_token");K.get({access_token:e},"/backend/questionlist/list").then((function(e){console.log(e),0===e.code?a.setState({tiHuanList:e.content}):d.a.error(e.message)})),a.setState({showModal2:!0})},a.handleSetwenjuqn=function(){a.setState({showModal2:!1})},a.onChangeCopy=function(){a.setState({showModal3:!0})},a.handleGobianji=function(){a.setState({showModal3:!1})},a.handleBack=function(){console.log(11)},a.onChangeEdit=function(){a.props.history.push("/edit_module")},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.sessionStorage.getItem("access_token");K.get({access_token:t},"/backend/questionlist/current").then((function(t){console.log(t),0===t.code?e.setState({list:t.content}):d.a.error(t.message)}))}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"nowquestionnaire"},l.a.createElement("div",{className:"bread-title"},l.a.createElement("div",{className:"bread-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"bread-pingjia",style:{marginLeft:10}},"\u8bc4\u4ef7\u95ee\u5377"),l.a.createElement(I.a.Item,null,"\u5f53\u524d\u95ee\u5377")))),l.a.createElement("div",{className:"bread-content"},l.a.createElement("div",{className:"bread-content-title"},l.a.createElement("h1",null,"APP\u8bc4\u4ef7\u5f53\u524d\u95ee\u5377")),l.a.createElement("div",{className:"bread-content-content"},l.a.createElement("div",{className:"child1"},l.a.createElement("div",{className:"left",onClick:this.onChangeData},this.state.list.name),l.a.createElement("div",{className:"right"},l.a.createElement("span",{style:{marginRight:10}},"\u7b54\u5377\u6570:",this.state.list.answer_count),l.a.createElement("span",null,"\u6700\u8fd1\u53d1\u5e03\u65f6\u95f4:",this.state.list.last_time))),l.a.createElement("div",{className:"child2"},l.a.createElement("div",{className:"left"},l.a.createElement(ge.a,{onChange:this.onChangeEdit,checked:!1},"\u7f16\u8f91\u95ee\u5377"),l.a.createElement(ge.a,{onChange:this.onChangeData,checked:!1},"\u67e5\u770b\u6570\u636e")),l.a.createElement("div",{className:"right"},l.a.createElement(ge.a,{onChange:this.onChangeTihuan,checked:!1},"\u66ff\u6362\u95ee\u5377"))))),l.a.createElement(m.a,{title:"\u66ff\u6362\u95ee\u5377",visible:this.state.showModal2,footer:null,onCancel:function(){e.setState({showModal2:!1})}},l.a.createElement("div",{style:{width:"100%"}},this.state.tiHuanList.map((function(e,t){return l.a.createElement(M.a,{key:t,style:{marginTop:"10px",marginLeft:"30px",fontSize:"24px"}},l.a.createElement(ge.a,{value:e.name},e.name))})),l.a.createElement("p",{className:"nowquestionnaire-set"},l.a.createElement(z.a,{type:"primary",onClick:this.handleSetwenjuqn},"\u8bbe\u4e3a\u5c0f\u533a\u8bc4\u4ef7\u5f53\u524d\u95ee\u5377")))),l.a.createElement(m.a,{visible:this.state.showModal3,footer:null,width:300,onCancel:function(){e.setState({showModal3:!1})}},l.a.createElement("p",{style:{textAlign:"center",marginTop:30}},"\u95ee\u5377\u590d\u5236\u6210\u529f"),l.a.createElement("p",{className:"nowquestionnaire-set"},l.a.createElement(z.a,{type:"primary",onClick:this.handleGobianji},"\u524d\u5f80\u7f16\u8f91"))))}}]),t}(i.Component)),ye=a(20),Ee=a.n(ye),_e=(a(432),a(223)),ke=a.n(_e);a(433);Ee.a.locale("zh-cn");var we=W.a.RangePicker,be=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).search_func=function(){K.wenjuan_list({page:a.state.currentPage||1,page_size:10,form_type:a.state.form_type||"",state:a.state.state||"",access_token:a.state.access_token,question_id:a.state.wenjuan_name,time_start:Date.parse(a.state.wenjuan_time[0])/1e3||0,time_end:Date.parse(a.state.wenjuan_time[1])/1e3||0}).then((function(e){console.log(e),0===e.code?a.setState({tableDataTotal:e.content.total_record,data:e.content.list||[]}):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},a.handleSearch=function(e){console.log(e),K.wenjuan_search({access_token:a.state.access_token,keyword:e}).then((function(e){console.log(e),0===e.code?(console.log(e.content),a.setState({wenjuan_list:e.content||[]})):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},a.getDetail=function(e){K.wenjuan_detail({access_token:a.state.access_token,id:e}).then((function(e){0===e.code?(console.log(e),m.a.info({title:"\u95ee\u5377\u8be6\u7ec6",content:l.a.createElement("div",{className:"detail_alert"},e.content.question_list.length?l.a.createElement("ul",null,e.content.question_list.map((function(e,t){return 1===e.type?l.a.createElement("li",{key:t},l.a.createElement("h3",null,t+1,"\u3001\u5355\u9009\u9898\uff1a"),l.a.createElement("p",null,e.question,"?"),e.answer_list.length?l.a.createElement("div",null,e.answer_list.map((function(e,t){return l.a.createElement("span",{key:t},"".concat(a.state.words[t],".").concat(e.answer))}))):""):2===e.type?l.a.createElement("li",{key:t},l.a.createElement("h3",null,t+1,"\u3001\u591a\u9009\u9898\uff1a"),l.a.createElement("p",null,e.question,"?"),e.answer_list.length?l.a.createElement("div",null,e.answer_list.map((function(e,t){return l.a.createElement("span",{key:t},"".concat(a.state.words[t],".").concat(e.answer))}))):""):void 0}))):l.a.createElement("div",null),e.content.fill_list.length?l.a.createElement("ul",null,e.content.fill_list.map((function(t,a){return 3===t.type?l.a.createElement("li",{key:a},l.a.createElement("h3",null,a+1+e.content.question_list.length,"\u3001\u586b\u7a7a\u9898",2==t.must_fill?"(\u5fc5\u586b)":"","\uff1a"),l.a.createElement("p",null,t.question,"?"),l.a.createElement("div",null,l.a.createElement("span",null,t.answer))):4==t.type?l.a.createElement("li",{key:a},l.a.createElement("h3",null,a+1+e.content.question_list.length,"\u3001\u6587\u672c\u9898",2==t.must_fill?"(\u5fc5\u586b)":"","\uff1a"),l.a.createElement("p",null,t.question,"?"),l.a.createElement("div",null,l.a.createElement("span",null,t.answer))):void 0}))):l.a.createElement("div",null)),okText:"\u786e\u8ba4"})):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},a.state={wenjuan_name:"",wenjuan_time:[],data:[],currentPage:1,tableDataTotal:0,wenjuan_list:[],access_token:"",form_type:"",state:"",words:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.document.title="\u95ee\u5377\u7ba1\u7406",this.setState({access_token:sessionStorage.getItem("access_token")},(function(){e.search_func()}))}},{key:"render",value:function(){var e=this,t=D.a.Column,a=m.a.confirm,n=Q.a.Option;return l.a.createElement("div",{className:"questionnaire"},l.a.createElement("div",{className:"top"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"\u95ee\u5377\u540d\u79f0: "),l.a.createElement(Q.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0",defaultActiveFirstOption:!1,filterOption:!1,value:this.state.wenjuan_name,onChange:function(t){e.setState({wenjuan_name:t})},onSearch:this.handleSearch},this.state.wenjuan_list.map((function(e,t){return console.log(e),l.a.createElement(n,{key:t,value:e.id},e.name)})))),l.a.createElement("li",null,l.a.createElement("span",null,"\u95ee\u5377\u65f6\u95f4: "),l.a.createElement(we,{style:{width:320},value:this.state.wenjuan_time?this.state.wenjuan_time:[],allowClear:!0,locale:ke.a,showTime:{hideDisabledOptions:!0},onChange:function(t){e.setState({wenjuan_time:t})},format:"YYYY-MM-DD HH:mm:ss"})),l.a.createElement("li",null,l.a.createElement("span",null,"\u662f\u5426\u4e0a\u4e0b\u67b6: "),l.a.createElement(Q.a,{placeholder:"\u8bf7\u9009\u62e9\u662f\u5426\u4e0a\u4e0b\u67b6",value:this.state.state,style:{width:200},onChange:function(t){e.setState({state:t})}},l.a.createElement(n,{value:1},"\u4e0a\u67b6"),l.a.createElement(n,{value:2},"\u4e0b\u67b6"))),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:function(){e.search_func()}},"\u641c\u7d22"),l.a.createElement(z.a,{style:{marginLeft:10},onClick:function(){e.setState({wenjuan_name:"",wenjuan_time:[],form_type:"",state:""},(function(){e.search_func()}))}},"\u6e05\u7a7a")),l.a.createElement("p",{style:{textAlign:"right"}},l.a.createElement(z.a,{type:"primary",onClick:function(){U.push({pathname:"/new_module"})}},"\u65b0\u5efa\u95ee\u5377")))),l.a.createElement("div",{className:"con"},l.a.createElement(D.a,{bordered:!0,dataSource:this.state.data,rowKey:function(e){return e.name},pagination:{current:this.state.currentPage,pageSize:10,total:this.state.tableDataTotal,showTotal:function(e){return"\u603b\u5171".concat(e,"\u6761\u6570\u636e")}},onChange:function(t){e.setState({currentPage:t.current},(function(){e.search_func()}))}},l.a.createElement(t,{title:"\u7f16\u53f7",dataIndex:"id",align:"center"}),l.a.createElement(t,{title:"\u95ee\u5377\u540d\u79f0",align:"center",dataIndex:"name"}),l.a.createElement(t,{title:"\u521b\u5efa\u65f6\u95f4",align:"center",dataIndex:"create_at"}),l.a.createElement(t,{title:"\u4e0a\u4e0b\u67b6",align:"center",render:function(e,t){return l.a.createElement("div",null,1===e.state?l.a.createElement(P.a,{color:"blue"},"\u4e0a\u67b6"):l.a.createElement(P.a,{color:"orange"},"\u4e0b\u67b6"))}}),l.a.createElement(t,{title:"\u521b\u5efa\u4eba",align:"center",dataIndex:"crearter"}),l.a.createElement(t,{title:"\u64cd\u4f5c",key:"action",width:160,render:function(t,n){return l.a.createElement("div",null,l.a.createElement(z.a,{type:"primary",onClick:e.getDetail.bind(e,t.id),size:"small"},"\u8be6\u60c5"),l.a.createElement(z.a,{style:{marginLeft:10},type:"danger",onClick:function(){var n=e;a({title:"\u662f\u5426".concat(1===t.state?"\u4e0b\u67b6":"\u4e0a\u67b6","?"),cancelText:"\u53d6\u6d88",okText:"".concat(1===t.state?"\u4e0b\u67b6":"\u4e0a\u67b6"),onOk:function(){K.setQuestionStatus({access_token:n.state.access_token,id:t.id,state:1===t.state?2:1}).then((function(e){0===e.code?(ce.a.success({message:"\u6210\u529f",description:"\u64cd\u4f5c\u6210\u529f"}),n.search_func()):ce.a.error({message:"\u9519\u8bef",description:e.message})}))},onCancel:function(){console.log("Cancel")}})},size:"small"},1===t.state?"\u4e0b\u67b6":"\u4e0a\u67b6"))}}))))}}]),t}(l.a.Component),Se=(a(436),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(s)))).onChange=function(){console.log("\u6211\u88ab\u9009\u4e86")},a.onChangeData=function(){a.props.history.push("appraise/DataSurvey")},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"kuQuestionnaire"},l.a.createElement("div",{className:"bread-title"},l.a.createElement("div",{className:"bread-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"bread-pingjia"},l.a.createElement("i",{className:"iconfont icon-fanhui1",style:{marginLeft:"0px",marginRight:"10px",fontSize:"18px"},onClick:function(){console.log(11),e.props.history.goBack(-1)}}),"\u8bc4\u4ef7\u95ee\u5377"),l.a.createElement(I.a.Item,null,"\u95ee\u5377\u5e93")))),l.a.createElement("div",{style:{marginTop:20}},l.a.createElement(be,null),">"))}}]),t}(i.Component)),Ne=(a(214),a(437),D.a.Column),je=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleSearch=function(e){e.length<=2||K.wenjuan_search({access_token:a.state.access_token,keyword:e}).then((function(t){console.log(t),0===t.code?a.setState({wenjuan_list:t.content||[]},(function(){sessionStorage.getItem("wenjuan_name")&&sessionStorage.getItem("wenjuan_name").split(",")[1]===e&&a.state.wenjuan_list.length&&a.search_func(sessionStorage.getItem("wenjuan_name").split(",")[0])})):ce.a.error({message:"\u9519\u8bef",description:t.message})}))},a.search_func=function(e){console.log(e),"object"!=typeof e&&(a.state.wenjuan_name?K.wenjuan_analyze({access_token:a.state.access_token,question_id:e||a.state.wenjuan_name}).then((function(e){if(console.log(e),0===e.code){var t={};t.attend_num=e.content.attend_num,t.list=[],t.list=(e.content.fill||[]).concat(e.content.question||[]),a.setState({data:t})}else ce.a.error({message:"\u9519\u8bef",description:e.message})})):ce.a.warning({message:"\u63d0\u793a",description:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0"}))},a.state={data:{},wenjuan_name:"",wenjuan_list:[],access_token:"",title:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;sessionStorage.getItem("wenjuan_name")?this.setState({access_token:sessionStorage.getItem("access_token"),wenjuan_name:sessionStorage.getItem("wenjuan_name").split(",")[0],title:sessionStorage.getItem("wenjuan_name").split(",")[1]},(function(){e.handleSearch(sessionStorage.getItem("wenjuan_name").split(",")[1])})):this.setState({access_token:sessionStorage.getItem("access_token")})}},{key:"render",value:function(){var e=this,t=Q.a.Option;return l.a.createElement("div",{className:"analyze"},l.a.createElement("div",{className:"top"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("span",null,"\u95ee\u5377\u540d\u79f0"),l.a.createElement(Q.a,{showSearch:!0,style:{width:200},placeholder:"\u8bf7\u8f93\u5165\u95ee\u5377\u540d\u79f0",defaultActiveFirstOption:!1,filterOption:!1,value:this.state.title,onChange:function(t,a){sessionStorage.setItem("wenjuan_name",t),e.setState({wenjuan_name:t.split(",")[0],title:t.split(",")[1]})},onSearch:this.handleSearch},this.state.wenjuan_list.length?this.state.wenjuan_list.map((function(e,a){return l.a.createElement(t,{key:a,value:e.id+","+e.name},e.name)})):"")),l.a.createElement("li",null,l.a.createElement(z.a,{type:"primary",onClick:function(){console.log(e.state.wenjuan_name),e.search_func(e.state.wenjuan_name)}},"\u67e5\u770b\u5206\u6790")),l.a.createElement("li",null,l.a.createElement(z.a,{onClick:function(){sessionStorage.removeItem("wenjuan_name"),e.setState({wenjuan_name:"",wenjuan_list:[],title:"",data:{}})}},"\u6e05\u7a7a"))),l.a.createElement("p",null,"\u53c2\u4e0e\u4eba\u6570: ",this.state.data.attend_num)),l.a.createElement("div",{className:"con"},l.a.createElement("ul",null,(this.state.data.list||[]).map((function(t,a){return l.a.createElement("div",{key:a},function(t,a){return 1===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u5355\u9009)")),l.a.createElement(D.a,{bordered:!0,dataSource:t.answer_list,rowKey:function(e){return e.id}},l.a.createElement(Ne,{title:"\u9009\u9879",dataIndex:"answer",align:"center"}),l.a.createElement(Ne,{title:"\u5c0f\u8ba1",align:"center",dataIndex:"count"}),l.a.createElement(Ne,{title:"\u6bd4\u4f8b",align:"center",dataIndex:"count",key:a,render:function(t,a){return l.a.createElement("div",null,l.a.createElement(le.a,{percent:Math.round(100*t/e.state.data.attend_num),size:"small",status:"active"}))}}))):2===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u591a\u9009)")),l.a.createElement(D.a,{bordered:!0,dataSource:t.answer_list,rowKey:function(e){return e.id}},l.a.createElement(Ne,{title:"\u9009\u9879",dataIndex:"answer",align:"center"}),l.a.createElement(Ne,{title:"\u5c0f\u8ba1",align:"center",dataIndex:"count"}),l.a.createElement(Ne,{title:"\u6bd4\u4f8b",align:"center",dataIndex:"count",key:a,render:function(t,a){return l.a.createElement("div",null,l.a.createElement(le.a,{percent:Math.round(100*t/e.state.data.attend_num),size:"small",status:"active"}))}}))):3===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u586b\u7a7a)")),l.a.createElement(z.a,{type:"primary",onClick:function(){U.push({pathname:"/detail_list",search:"id=".concat(t.id,"&question_id=").concat(e.state.wenjuan_name,"&title=").concat(e.state.title,"&question=").concat(t.question)})}},"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f")):4===t.answer_type?l.a.createElement("li",null,l.a.createElement("p",null,a+1+". "+t.question,l.a.createElement("span",null,"(\u6587\u672c)")),l.a.createElement(z.a,{type:"primary",onClick:function(){U.push({pathname:"/detail_list",search:"id=".concat(t.id,"&question_id=").concat(e.state.wenjuan_name,"&title=").concat(e.state.title,"&question=").concat(t.question)})}},"\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f")):void 0}(t,a))})))))}}]),t}(l.a.Component),xe=(a(153),a(99)),Ce=(a(438),l.a.createElement($.a,null,l.a.createElement($.a.Item,{key:"1"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u5e8f\u53f7\u4e0b\u8f7d"),l.a.createElement($.a.Item,{key:"2"},l.a.createElement(J.a,{type:"border"}),"\u6309\u9009\u9879\u6587\u672c\u4e0b\u8f7d"))),Ie=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).selectTime=function(e,t){a.setState({startTime:t[0],endTime:t[1]})},a.selectWay=function(e){a.setState({way:e.target.value})},a.selectIsStaff=function(e){a.setState({isStaff:e.target.value})},a.selectVersion=function(e){a.setState({version:e})},a.selectSex=function(e){a.setState({sex:e.target.value})},a.selectPhone=function(e){a.setState({phone:e})},a.selectNickname=function(e){a.setState({nickname:e.target.value})},a.search=function(){a.fetchData()},a.clear=function(){a.setState({way:null,isStaff:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u8f93\u5165\u5c0f\u533a",phone:null,nickname:null})},a.searchCommunity=function(e){var t={access_token:a.getQueryString("access_token"),page:1,page_size:10,keyword:""==e?"\u4e03\u661f":e};K.get(t,"backend/communitySearch").then((function(e){0==e.code?a.setState({communityList:e.content.data}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))},a.selectCommunity=function(e){a.setState({community:e.name,community_uuid:e.uuid},(function(){}))},a.renderEmployee=function(e){switch(e){case 1:return"\u5458\u5de5";case 2:return"\u975e\u5458\u5de5"}},a.renderGender=function(e){switch(e){case 1:return"\u7537";case 2:return"\u5973";case 0:return"\u672a\u77e5"}},a.renderWay=function(e){switch(e){case 1:return"IOS";case 2:return"\u5b89\u5353"}},a.tofixed=function(e){return Number(e).toFixed(1)+"%"},a.state=Object(O.a)({userName:null,modalVisible:!1,access_token:null,id:null,test:["test1","test2","test3"],currentPage:1,total:0,pageSize:10,data:null,flag:!1,visible:!1,userId:null,previewVisible:null,previewImage:null,startTime:null,endTime:null,way:null,isStaff:null,version:"\u8bf7\u9009\u62e9",sex:null,community:"\u8bf7\u8f93\u5165\u5c0f\u533a",phone:null,nickname:null,questionList:[],answerList:[{name:"\u975e\u5e38\u6ee1\u610f",id:1},{name:"\u6ee1\u610f",id:2},{name:"\u4e00\u822c",id:3},{name:"\u4e0d\u6ee1\u610f",id:4},{name:"\u975e\u5e38\u4e0d\u6ee1\u610f",id:5}],version1:null,create_at:null,totalhpDegree:null,totalmyDegree:null,versionList:[],communityList:[],community_uuid:null},"data",[]),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){this.getVersionList(),this.fetchData()}},{key:"getVersionList",value:function(){var e=this,t={access_token:this.getQueryString("access_token")};K.get(t,"backend/versionList").then((function(t){0==t.code?e.setState({versionList:t.content}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,page:1,page_size:this.state.pageSize};K.get(a,"backend/search").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"fetchData1",value:function(){var e=this,t=this.getQueryString("access_token");this.setState({data:[],flag:!0});var a={access_token:t,time_start:this.state.startTime?this.formdata(this.state.startTime):null,time_end:this.state.endTime?this.formdata1(this.state.endTime):null,form_type:Number(this.state.way),is_employee:this.state.isStaff,version:"\u8bf7\u9009\u62e9"==this.state.version?null:this.state.version,gender:this.state.sex,community_uuid:"\u8bf7\u8f93\u5165\u5c0f\u533a"==this.state.community?null:this.state.community_uuid,mobile:this.state.phone,nick_name:this.state.nickname,page:this.state.currentPage,page_size:this.state.pageSize};K.get(a,"backend/search").then((function(t){0==t.code?e.setState({data:t.content.list,currentPage:Number(t.content.current_page),pageSize:Number(t.content.page_size),total:t.content.total_record,totalhpDegree:t.content.praise,totalmyDegree:t.content.satisfied,flag:!1}):d.a.error("".concat(t.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"formdata",value:function(e){var t=new Date(e);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),Date.parse(t)/1e3}},{key:"formdata1",value:function(e){var t=new Date(e);return t.setHours(23),t.setMinutes(59),t.setSeconds(59),Date.parse(t)/1e3}},{key:"getQueryString",value:function(e){if(""==window.location.search){var t=document.location.toString().split("?");if(t.length>1){for(var a,n=t[1].split("&"),s=0;s<n.length;s++)if(null!=(a=n[s].split("="))&&a[0]==e)return a[1];return""}return""}var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),l=window.location.search.substr(1).match(i);return null!=l?unescape(l[2]):null}},{key:"urljson",value:function(e){var t=/([^&=]+)=([\w\W]*?)(&|$|#)/g,a=/^[^\?]+\?([\w\W]+)$/.exec(e),n={};if(a&&a[1])for(var s,i=a[1];null!=(s=t.exec(i));)n[s[1]]=s[2];return n}},{key:"toDetail",value:function(e){var t=this;this.setModalVisible(!0);var a={access_token:this.getQueryString("access_token"),id:e.id};K.get(a,"backend/detail").then((function(e){0==e.code?t.setState({questionList:e.content.list,version1:e.content.version,create_at:e.content.create_at}):d.a.error("".concat(e.code,"!,\u8bf7\u91cd\u8bd5"))}))}},{key:"handleTableChange",value:function(e){var t=this,a=e.current||1;this.setState({currentPage:a},(function(){t.fetchData1()}))}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"render",value:function(){var e=this,t=W.a.RangePicker,a=R.a.Group,n=Q.a.Option,s=this.state.data,i=[{title:"\u7528\u6237ID",align:"center",dataIndex:"user_id",key:"user_id",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u6635\u79f0",align:"center",dataIndex:"nick_name",key:"nick_name",width:160,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u624b\u673a\u53f7",align:"center",dataIndex:"mobile",key:"mobile",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5c0f\u533a",align:"center",dataIndex:"community_name",key:"community_name",width:150,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u5458\u5de5",align:"center",dataIndex:"is_employee",key:"is_employee",width:100,render:function(t){return l.a.createElement("span",null,e.renderEmployee(t))}},{title:"\u6027\u522b",align:"center",dataIndex:"gender",key:"gender",width:100,render:function(t){return l.a.createElement("span",null,e.renderGender(t))}},{title:"\u6e20\u9053",align:"center",dataIndex:"from_type",key:"from_type",width:100,render:function(t){return l.a.createElement("span",null,e.renderWay(t))}},{title:"\u7248\u672c",align:"center",dataIndex:"version",key:"version",width:100,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u597d\u8bc4\u7387",align:"center",dataIndex:"praise",key:"praise",width:100,render:function(t){return l.a.createElement("span",null,e.tofixed(t))}},{title:"\u7528\u6237\u6ee1\u610f\u5ea6",align:"center",dataIndex:"satisfied",key:"satisfied",width:150,render:function(t){return l.a.createElement("span",null,e.tofixed(t))}},{title:"\u8bc4\u4ef7\u65f6\u95f4",align:"center",dataIndex:"create_at",key:"create_at",width:200,render:function(e){return l.a.createElement("span",null,e)}},{title:"\u95ee\u5377\u8be6\u60c5",align:"center",key:"operation",width:150,fixed:"right",render:function(t,a){return l.a.createElement("a",{onClick:e.toDetail.bind(e,t)},"\u67e5\u770b")}}];return l.a.createElement("div",{className:"show"},l.a.createElement("div",{className:"search_box",style:{position:"relative"}},l.a.createElement("div",{className:"search_content"},l.a.createElement("div",{className:"evaluation_time search_item"},l.a.createElement("span",{className:"txt"},"\u8bc4\u4ef7\u65f6\u95f4\uff1a"),l.a.createElement(t,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],size:"small",onChange:this.selectTime})),l.a.createElement("div",{className:"way search_item"},l.a.createElement("span",{className:"txt"},"\u6e20\u9053\uff1a"),l.a.createElement(a,{onChange:this.selectWay,value:this.state.way},l.a.createElement(R.a,{value:"1"},"ios"),l.a.createElement(R.a,{value:"2"},"android"))),l.a.createElement("div",{className:"staff search_item"},l.a.createElement("span",{className:"txt"},"\u5458\u5de5\uff1a"),l.a.createElement(a,{onChange:this.selectIsStaff,value:this.state.isStaff},l.a.createElement(R.a,{value:"1"},"\u662f"),l.a.createElement(R.a,{value:"2"},"\u5426"))),l.a.createElement("div",{className:"version search_item"},l.a.createElement("span",{className:"txt"},"\u7248\u672c\uff1a"),l.a.createElement(Q.a,{size:"small",defaultValue:"\u8bf7\u9009\u62e9",style:{width:100},onChange:this.selectVersion,value:this.state.version},this.state.versionList.map((function(e,t){return l.a.createElement(n,{value:e.version,key:t},e.version)})))),l.a.createElement("div",{className:"sex search_item"},l.a.createElement("span",{className:"txt"},"\u6027\u522b\uff1a"),l.a.createElement(a,{onChange:this.selectSex,value:this.state.sex},l.a.createElement(R.a,{value:"1"},"\u7537"),l.a.createElement(R.a,{value:"2"},"\u5973"))),l.a.createElement("div",{className:"community search_item"},l.a.createElement("span",{className:"txt"},"\u5c0f\u533a\uff1a"),l.a.createElement(Q.a,{showSearch:!0,size:"small",value:this.state.community,placeholder:"\u8bf7\u8f93\u5165\u5c0f\u533a",style:{width:100},defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.searchCommunity,onChange:this.selectCommunity,notFoundContent:null},this.state.communityList.map((function(e,t){return l.a.createElement(n,{value:e,index:t},e.name)})))),l.a.createElement("div",{className:"phone search_item"},l.a.createElement("span",{className:"txt"},"\u624b\u673a\u53f7\uff1a"),l.a.createElement(L.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7",className:"phone_input",size:"small",maxLength:11,onChange:this.selectPhone,value:this.state.phone})),l.a.createElement("div",{className:"nickname search_item"},l.a.createElement("span",{className:"txt"},"\u6635\u79f0\uff1a"),l.a.createElement(q.a,{placeholder:"\u8bf7\u8f93\u5165\u6635\u79f0",className:"phone_input",size:"small",onChange:this.selectNickname,value:this.state.nickname}))),l.a.createElement("div",{className:"search_btn"},l.a.createElement(z.a,{type:"primary",style:{marginRight:15},onClick:this.search},"\u7b5b\u9009"),l.a.createElement(z.a,{onClick:this.clear},"\u91cd\u7f6e")),l.a.createElement("div",{className:"dajuanDownload"},l.a.createElement(xe.a,{overlay:Ce},l.a.createElement(z.a,{type:"primary"},"\u4e0b\u8f7d\u7b54\u5377\u6570\u636e ",l.a.createElement(J.a,{type:"down"}))))),l.a.createElement("div",{className:"total_box"},l.a.createElement("p",{className:"name"},"\u7528\u6237\u6574\u4f53\u597d\u8bc4\u7387\uff1a",l.a.createElement("span",{className:"val"},this.tofixed(this.state.totalhpDegree))),l.a.createElement("p",{className:"name"},"\u7528\u6237\u6574\u4f53\u6ee1\u610f\u5ea6\uff1a",l.a.createElement("span",{className:"val"},this.tofixed(this.state.totalmyDegree)))),l.a.createElement("div",{className:"table_box"},l.a.createElement(D.a,{columns:i,bordered:!0,dataSource:s,scroll:{x:1400},loading:{tip:"Loading...",spinning:this.state.flag},pagination:{current:this.state.currentPage,pageSize:this.state.pageSize,total:this.state.total,showTotal:function(){return"\u5171".concat(e.state.total,"\u6761\u6570\u636e\uff0c\u5f53\u524d\u7b2c").concat(e.state.currentPage,"\u9875")}},onChange:this.handleTableChange.bind(this)})),l.a.createElement("div",{className:"modal"},l.a.createElement(m.a,{title:"\u6ee1\u610f\u5ea6\u8c03\u67e5",width:375,centered:!0,visible:this.state.modalVisible,onOk:function(){return e.setModalVisible(!1)},onCancel:function(){return e.setModalVisible(!1)}},l.a.createElement("div",{className:"item_box"},this.state.questionList.map((function(t,n){return l.a.createElement("div",{className:"item",key:n},l.a.createElement("p",{className:"question"},n+1,"\u3001",t.question),l.a.createElement("div",{className:"answer_box"},l.a.createElement(a,{onChange:e.selectIsStaff,value:t.answer},e.state.answerList.map((function(e,t){return l.a.createElement(R.a,{value:5-t,disabled:!0,key:t},e.name)})))))}))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",{className:"version"},"v ",this.state.version1),l.a.createElement("p",{className:"time"},"\u63d0\u4ea4\u65f6\u95f4\uff1a",this.state.create_at)))))}}]),t}(i.Component),Oe=T.a.TabPane,Te=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"data-survey"},l.a.createElement("div",{className:"bread-title"},l.a.createElement("div",{className:"bread-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"bread-pingjia",style:{marginLeft:10}},l.a.createElement("i",{className:"iconfont icon-fanhui1",style:{marginLeft:"0px",marginRight:"10px",fontSize:"18px"},onClick:function(){console.log(11),e.props.history.goBack(-1)}}),"\u8bc4\u4ef7\u95ee\u5377"),l.a.createElement(I.a.Item,null,"\u5f53\u524d\u95ee\u5377"),l.a.createElement(I.a.Item,null,"\u95ee\u5377\u6570\u636e")))),l.a.createElement(T.a,{defaultActiveKey:"1",type:"line"},l.a.createElement(Oe,{tab:"\u6570\u636e\u6982\u51b5",key:"1"},l.a.createElement(je,null)),l.a.createElement(Oe,{tab:"\u95ee\u5377\u6570\u636e",key:"2"},l.a.createElement(Ie,null))))}}]),t}(i.Component),De=(a(439),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).handleAdd=function(){console.log(a.state.id),console.log(a.state.value);var e=window.sessionStorage.getItem("access_token");K.get({access_token:e,id:a.state.id,content:a.state.value},"backend/feedback/add").then((function(e){console.log(e),0===e.code?a.setState({value:""},(function(){d.a.success(e.content),a.getData()})):d.a.error(e.message)}))},a.state={id:"",content:"",zuijiaArr:[],value:"",imageList:[]},a.handleChange=a.handleChange.bind(Object(ae.a)(a)),a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){this.setState({id:this.props.match.params.id})}},{key:"componentDidMount",value:function(){console.log(this.state.content),this.getData()}},{key:"getData",value:function(){var e=this,t=window.sessionStorage.getItem("access_token");K.get({access_token:t,id:this.state.id},"backend/feedback/detail").then((function(t){console.log(t.content.replay_arr),0===t.code?e.setState({content:t.content,zuijiaArr:t.content.replay_arr,imageList:t.content.image}):d.a.error(t.message)}))}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"yijianxiangqing"},l.a.createElement("div",{className:"yijianxiangqing-title"},l.a.createElement("div",{className:"yijianxiangqing-title-wrapper"},l.a.createElement(I.a,{separator:"-"},l.a.createElement(I.a.Item,{className:"yijianxiangqing-pingjia"},l.a.createElement("i",{className:"iconfont icon-fanhui1",style:{marginLeft:"0px",marginRight:"10px",fontSize:"18px"},onClick:function(){console.log(11),e.props.history.goBack(-1)}}),"\u610f\u89c1\u53cd\u9988"),l.a.createElement(I.a.Item,null,"\u67e5\u770b\u610f\u89c1"),l.a.createElement(I.a.Item,null,"\u610f\u89c1\u8be6\u60c5")))),l.a.createElement("div",{className:"yijianxiangqing-content",style:{padding:"20px"}},l.a.createElement("div",{className:"title"},l.a.createElement("h1",{style:{fontWeight:600,fontSize:"30px"}},"\u529f\u80fd\u4f7f\u7528\u53cd\u9988\u8be6\u60c5")),l.a.createElement("div",{className:"content1"},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:2},"\u72b6\u6001:"," ",1===this.state.content.is_reply?l.a.createElement(P.a,{color:"#87d068"},"\u5df2\u56de\u590d"):l.a.createElement(P.a,{color:"#f50"},"\u672a\u56de\u590d")),l.a.createElement(V.a,{span:2},"ID: ",this.state.content.user_id),l.a.createElement(V.a,{span:2},"\u6635\u79f0: ",this.state.content.nick_name),l.a.createElement(V.a,{span:2},"\u624b\u673a: ",this.state.content.mobile),l.a.createElement(V.a,{span:2},"\u5c0f\u533a: ",this.state.content.community_name),l.a.createElement(V.a,{span:2},"\u6e20\u9053: ",2===this.state.content.from_type?"android":"ios"),l.a.createElement(V.a,{span:2},"\u7248\u672c: ",this.state.content.version))),l.a.createElement("div",{className:"content1",style:{marginTop:"20px"}},l.a.createElement(M.a,null,l.a.createElement(V.a,{span:24},"\u7528\u6237\u53cd\u9988: ",this.state.content.content))),l.a.createElement("div",{className:"image-wrapper"},this.state.imageList.map((function(e,t){return l.a.createElement("img",{src:e,key:t})}))),l.a.createElement("form",null,l.a.createElement("div",{className:"huifu-fankui"},l.a.createElement("div",{className:"child1"},"\u56de\u590d\u53cd\u9988:"),l.a.createElement("div",{className:"child2"},l.a.createElement("textarea",{cols:"190",rows:"10",onChange:this.handleChange,value:this.state.value})),l.a.createElement("div",{className:"zuijia"},l.a.createElement(z.a,{style:{borderRadius:"15px"},onClick:this.handleAdd,type:"primary"},"\u8ffd\u52a0\u56de\u590d")))),l.a.createElement("div",{className:"huifu-recored"},l.a.createElement("div",{className:"huifu-title"},"\u56de\u590d\u8bb0\u5f55"),this.state.zuijiaArr.map((function(e,t){return l.a.createElement(M.a,{className:"child1",style:{marginTop:"10px"},key:t},l.a.createElement(V.a,{span:1},l.a.createElement("div",{style:{border:"1px solid #ccc",borderRadius:"15px",height:"28px",lineHeight:"28px"}},"\u8ffd\u52a0\u56de\u590d")),l.a.createElement(V.a,{span:2},l.a.createElement("div",{style:{textAlign:"center"},className:"man"},"\u5904\u7406\u4eba:",e.reply_name)),l.a.createElement(V.a,{span:18},l.a.createElement("div",{className:"content",style:{marginRight:"20px"}},"\u56de\u590d\u5185\u5bb9:",e.content)))})))))}}]),t}(i.Component)),ze=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){window.location.pathname;return l.a.createElement("div",{style:{padding:"0px 20px 20px 20px",overflowY:"auto",width:"100%",height:"calc( 100vh - 48px )"}},l.a.createElement(u.a,{exact:!0,path:"/Home",component:C}),l.a.createElement(u.a,{exact:!0,path:"/NowQuestionnaire",component:ve}),l.a.createElement(u.a,{exact:!0,path:"/kuQuestionnaire",component:Se}),l.a.createElement(u.a,{exact:!0,path:"/analyze",component:oe}),l.a.createElement(u.a,{exact:!0,path:"/detail_list",component:ue}),l.a.createElement(u.a,{exact:!0,path:"/new_module",component:he}),l.a.createElement(u.a,{exact:!0,path:"/edit_module",component:fe}),l.a.createElement(u.a,{exact:!0,path:"/appraise/DataSurvey",component:Te}),l.a.createElement(u.a,{exact:!0,path:"/lookidea",component:ee}),l.a.createElement(u.a,{exact:!0,path:"/lookidea/detail/:id",component:De}),l.a.createElement(u.a,{exact:!0,path:"/setidea",component:ie}),l.a.createElement(u.a,{exact:!0,path:"/",component:ee}))}}]),t}(i.Component),qe=(a(442),$.a.SubMenu),Le=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).state={collapsed:!1,selectedKeys:[],openKeys:[]},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({selectedKeys:this.props.current,openKeys:this.props.openCurrent})}},{key:"toggleCollapsed",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"openChange",value:function(e){this.setState({openKeys:e})}},{key:"handleClick",value:function(e){var t=this;this.setState({selectedKeys:[e.key]},(function(){t.props.onClickItem&&t.props.onClickItem(e.key)}))}},{key:"render",value:function(){var e=this,t=[],a=[];return this.props.menuData.map((function(t,n){e.props.menuData[n].children.length?a.push(e.props.menuData[n].children.map((function(e,t){return l.a.createElement($.a.Item,{key:e.key},l.a.createElement(J.a,{type:e.icon_src}),l.a.createElement("span",null,e.name))}))):a.push([])})),this.props.menuData.map((function(e,n){e.children.length?t.push(l.a.createElement(qe,{key:e.key,title:l.a.createElement("span",null,e.name)},a[n])):t.push(l.a.createElement($.a.Item,{key:e.key},l.a.createElement(J.a,{type:e.icon_src}),l.a.createElement("span",null,e.name)))})),l.a.createElement("div",{style:{height:"calc( 100vh - 48px )"}},l.a.createElement("div",{className:this.state.collapsed?"_submenu small":"_submenu"},l.a.createElement("p",{className:this.state.collapsed?"_ptitle _small":"_ptitle"},this.props.title),l.a.createElement($.a,{mode:"inline",inlineCollapsed:this.state.collapsed,onClick:this.handleClick.bind(this),selectedKeys:this.state.selectedKeys,onOpenChange:this.openChange.bind(this),openKeys:this.state.openKeys},t),l.a.createElement("div",{className:"_foldWrapper",onClick:this.toggleCollapsed.bind(this)}),l.a.createElement("div",{className:"_fold",onClick:this.toggleCollapsed.bind(this)},l.a.createElement(J.a,{type:"menu-unfold"}))))}}]),t}(i.Component),Me=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(g.a)(t).call(this,e))).UNSAFE_componentWillUnmount=function(){a.setState=function(e,t){}},a.getQueryString=function(e){var t,a=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");return null!=(t=window.location.search?window.location.search.substr(1).match(a):this.props.location.search.substr(1).match(a))?unescape(t[2]):null},a.state={user:"",usermenuList:[],loading:!1,access_token:""},a}return Object(v.a)(t,e),Object(p.a)(t,[{key:"getUserInfo",value:function(){var e=this,t="";this.getQuery(this.props.history.location.search,"access_token")?t=this.getQuery(this.props.history.location.search,"access_token"):this.urlArgs("access_token")?t=this.urlArgs("access_token"):sessionStorage.getItem("access_token")?t=sessionStorage.getItem("access_token"):window.location.href=N._baseUrl+"/#/login",console.log(t);var a={access_token:t};sessionStorage.setItem("access_token",t),N.getUserInfo(a).then((function(t){if(0===t.code){if(sessionStorage.setItem("user",JSON.stringify(t.content)),e.getQueryString("flag"))e.loginOut();else{var a=sessionStorage.getItem("user");a?e.setState({user:a}):window.location.href=N._baseUrl+"/#/login"}var n=e.getQueryString("key"),s=e.getQueryString("openKeys");sessionStorage.setItem("key",n),sessionStorage.setItem("openKeys",s)}else d.a.error(t.message)}))}},{key:"urlArgs",value:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),a=window.location.search.substr(1).match(t);return null!=a?a[2]:null}},{key:"getQuery",value:function(e,t){var a=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=e.substr(1).match(a);return null!=n?n[2]:null}},{key:"UNSAFE_componentWillMount",value:function(){this.getUserInfo()}},{key:"UNSAFE_componentDidMount",value:function(){var e=this,t=setInterval((function(){sessionStorage.getItem("user")&&(clearInterval(t),e.getUserMenuList())}),10)}},{key:"getUserMenuList",value:function(){var e=this;e.setState({loading:!0});var t={access_token:sessionStorage.getItem("access_token")};N.getUserMenuList(t).then((function(t){if(0===t.code){var a=t.content;e.setState({usermenuList:a,loading:!1})}else 400===t.code?(e.setState({loading:!1}),m.a.info({title:"\u767b\u5f55\u5931\u6548\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\uff01",okText:"\u786e\u8ba4",onOk:function(){sessionStorage.removeItem("user"),window.location.href=N._baseUrl+"/#/login"}})):(e.setState({loading:!1}),d.a.error(t.message))}))}},{key:"loginOut",value:function(){var e={access_token:sessionStorage.getItem("access_token")};N.logout(e).then((function(e){0===e.code?(sessionStorage.removeItem("user"),window.location.href=N._baseUrl+"/#/login"):400===e.code&&(sessionStorage.removeItem("user"),window.location.href=N._baseUrl+"/#/login")}))}},{key:"onClick",value:function(e){this.props.history.push(e)}},{key:"onClickYiJian",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){window.location.pathname;return l.a.createElement("div",{style:{width:"100%",height:"100%"}}," "," ",l.a.createElement(j,{url:N._baseUrl,openUrl:N.openUrl,onLoginOut:this.loginOut.bind(this)}),l.a.createElement("div",{style:{width:"100%",display:"flex"}}," ",l.a.createElement(x,{data:this.state.usermenuList,url:N._baseUrl,access_token:sessionStorage.getItem("access_token"),current:sessionStorage.getItem("key"),openCurrent:sessionStorage.getItem("openKeys"),loading:this.state.loading}),l.a.createElement(Le,{title:"\u610f\u89c1\u53cd\u9988",onClickItem:this.onClickYiJian.bind(this),current:this.props.location.pathname,menuData:[{key:"/lookidea?access_token=".concat(sessionStorage.getItem("access_token")),name:"\u67e5\u770b\u610f\u89c1",icon_src:"aliwangwang",children:[]},{key:"/setidea?access_token=".concat(sessionStorage.getItem("access_token")),name:"\u8bbe\u7f6e\u7c7b\u578b",icon_src:"setting",children:[]}]}),l.a.createElement(ze,this.props)))}}]),t}(i.Component),Ve=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Pe(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(l.a.createElement(o.a,null,l.a.createElement(u.c,null,l.a.createElement(u.a,{path:"/Home",component:Me}),l.a.createElement(u.a,{path:"/",render:function(e){return l.a.createElement(Me,e)}}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL(".",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat(".","/service-worker.js");Ve?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Pe(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Pe(e)}))}}()}},[[227,1,2]]]);
//# sourceMappingURL=main.78713578.chunk.js.map